–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏ –∏ –ø–æ—Ç–æ–∫–∞–º–∏.
–ö–æ–ø–∞—Å–æ–≤–∞ –ö—Å–µ–Ω–∏—è, –≥—Ä—É–ø–ø–∞ 3384
ksenox@pupup:~$ date
Sun Mar 16 10:41:10 AM UTC 2025
ksenox@pupup:~$ who
ksenox   seat0        2025-03-16 10:24 (login screen)
ksenox   tty2         2025-03-16 10:24 (tty2)
ksenox@pupup:~$ uname -a
Linux pupup 6.11.0-17-generic #17~24.04.2-Ubuntu SMP PREEMPT_DYNAMIC Mon Jan 20 22:48:29 UTC 2 x86_64 x86_64 x86_64 GNU/Linux
ksenox@pupup:~$ hostnamectl
 Static hostname: pupup
       Icon name: computer-vm
         Chassis: vm üñ¥
      Machine ID: ba2a136d17fa40178ee31bf155ffbbab
         Boot ID: a00bac56f2894a0cabe78dac6f167450
  Virtualization: oracle
Operating System: Ubuntu 24.04.1 LTS              
          Kernel: Linux 6.11.0-17-generic
    Architecture: x86-64
 Hardware Vendor: innotek GmbH
  Hardware Model: VirtualBox
Firmware Version: VirtualBox
   Firmware Date: Fri 2006-12-01
    Firmware Age: 18y 3month 2w
ksenox@pupup:~$ lscpu
–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:               x86_64
  CPU op-mode(s):          32-bit, 64-bit
  Address sizes:           48 bits physical, 48 bits virtual
  –ü–æ—Ä—è–¥–æ–∫ –±–∞–π—Ç:            Little Endian
CPU(s):                    5
  On-line CPU(s) list:     0-4
ID –ø—Ä—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è:         AuthenticAMD
  –ò–º—è –º–æ–¥–µ–ª–∏:              AMD Ryzen 7 7730U with Radeon Graphics
    –°–µ–º–µ–π—Å—Ç–≤–æ –¶–ü–£:         25
    –ú–æ–¥–µ–ª—å:                80
    –ü–æ—Ç–æ–∫–æ–≤ –Ω–∞ —è–¥—Ä–æ:       1
    –Ø–¥–µ—Ä –Ω–∞ —Å–æ–∫–µ—Ç:         5
    –°–æ–∫–µ—Ç–æ–≤:               1
    –°—Ç–µ–ø–ø–∏–Ω–≥:              0
    BogoMIPS:              3992.39
    –§–ª–∞–≥–∏:                 fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge 
                           mca cmov pat pse36 clflush mmx fxsr sse sse2 ht sysca
                           ll nx mmxext fxsr_opt rdtscp lm constant_tsc rep_good
                            nopl nonstop_tsc cpuid extd_apicid tsc_known_freq pn
                           i pclmulqdq ssse3 cx16 sse4_1 sse4_2 movbe popcnt aes
                            rdrand hypervisor lahf_lm cmp_legacy cr8_legacy abm 
                           sse4a misalignsse 3dnowprefetch vmmcall fsgsbase bmi1
                            bmi2 invpcid rdseed adx clflushopt sha_ni arat debug
                           _swap
Virtualization features:   
  –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –≥–∏–ø–µ—Ä–≤–∏–∑–æ—Ä–∞: KVM
  –¢–∏–ø –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏:       –ø–æ–ª–Ω—ã–π
Caches (sum of all):       
  L1d:                     160 KiB (5 instances)
  L1i:                     160 KiB (5 instances)
  L2:                      2.5 MiB (5 instances)
  L3:                      80 MiB (5 instances)
NUMA:                      
  NUMA node(s):            1
  NUMA node0 CPU(s):       0-4
Vulnerabilities:           
  Gather data sampling:    Not affected
  Itlb multihit:           Not affected
  L1tf:                    Not affected
  Mds:                     Not affected
  Meltdown:                Not affected
  Mmio stale data:         Not affected
  Reg file data sampling:  Not affected
  Retbleed:                Not affected
  Spec rstack overflow:    Vulnerable: Safe RET, no microcode
  Spec store bypass:       Not affected
  Spectre v1:              Mitigation; usercopy/swapgs barriers and __user point
                           er sanitization
  Spectre v2:              Mitigation; Retpolines; STIBP disabled; RSB filling; 
                           PBRSB-eIBRS Not affected; BHI Not affected
  Srbds:                   Not affected
  Tsx async abort:         Not affected

1. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è–º–∏.
1.1. –ó–∞–ø—É—Å—Ç–∏–º –Ω–µ—Å–∫–æ–ª—å–∫–æ —É—Ç–∏–ª–∏—Ç –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ –∏ —Å –ø–æ–º–æ—â—å—é jobs –ø—Ä–æ—Å–º–æ—Ç—Ä–∏–º —Å–ø–∏—Å–æ–∫ —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞–Ω–∏–π:
ksenox@pupup:~$ date
Sun Mar 16 11:25:38 AM UTC 2025
ksenox@pupup:~$ sleep 100 & find / -readable > myfile 2>/dev/null & cat *.c > myprog &
[1] 11021
[2] 11022
[3] 11023
ksenox@pupup:~$ notify %3
[3]+  –ó–∞–≤–µ—Ä—à—ë–Ω        cat *.c > myprog
ksenox@pupup:~$ jobs
[1]   –ó–∞–ø—É—â–µ–Ω          sleep 100 &
[2]-  –ó–∞–ø—É—â–µ–Ω          find / > myfile 2> /dev/null &
[3]+  –ó–∞–≤–µ—Ä—à—ë–Ω        cat *.c > myprog
ksenox@pupup:~$ fg %2
bash: fg: –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è –ø—Ä–µ—Ä–≤–∞–Ω–æ
[2]+  –í—ã—Ö–æ–¥ 1            find / -readable > myfile 2> /dev/null
ksenox@pupup:~$ kill %1
ksenox@pupup:~$ jobs
[1]+  –ó–∞–≤–µ—Ä—à–µ–Ω–æ      sleep 100

1.2. –ò—Å–ø–æ–ª—å–∑—É–µ–º —É—Ç–∏–ª–∏—Ç—É nohup –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏–º —Å–∏—Å—Ç–µ–º—É:
ksenox@pupup:~$ date
Sun Mar 16 11:57:16 AM UTC 2025
ksenox@pupup:~$ nohup sleep 1000 &
[1] 11415
–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–≤–µ—Ä–∏–º —Ç–∞–±–ª–∏—Ü—É –ø—Ä–æ—Ü–µ—Å—Å–æ–≤:
ksenox@pupup:~$ ps aux | grep sleep
ksenox      2704  0.0  0.0   9308  2332 pts/0    S+   12:01   0:00 grep --color=auto sleep

–í–∏–¥–∏–º, —á—Ç–æ –¥–∞–∂–µ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–æ–¥–æ–ª–∂–∏–ª –≤—ã–ø–æ–ª–Ω—è—Ç—Å—è, —Ç. –∫. —É—Ç–∏–ª–∏—Ç–∞ nohup –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ—Å–ª–µ –≤—ã—Ö–æ–¥–∞ –∏—Ö —Å–∏—Å—Ç–µ–º—ã. 

1.3. –ö–∞–∂–¥–æ–º—É –ø—Ä–æ—Ü–µ—Å—Å—É –Ω–∞–∑–Ω–∞—á–µ–Ω —É–Ω–∏–∫–∞–ª—å–Ω—ã–π UID (–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è). –° –ø–æ–º–æ—â—å—é —É—Ç–∏–ª–∏—Ç—ã ps —Å —Ñ–ª–∞–≥–æ–º -oe (–¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è uid) —É–∑–Ω–∞–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π uid –ø—Ä–æ—Ü–µ—Å—Å–∞:
ksenox@pupup:~$ date
Sun Mar 16 12:15:07 AM UTC 2025
ksenox@pupup:~$ ps -eo pid,uid,user,comm --sort=uid
    PID   UID USER     COMMAND
      1     0 root     systemd
      2     0 root     kthreadd
      3     0 root     pool_workqueue_release
      4     0 root     kworker/R-rcu_gp
      5     0 root     kworker/R-sync_wq
      6     0 root     kworker/R-slub_flushwq
      7     0 root     kworker/R-netns
      8     0 root     kworker/0:0-cgroup_bpf_destroy
     10     0 root     kworker/0:0H-events_highpri
     11     0 root     kworker/u20:0-events_unbound
     12     0 root     kworker/R-mm_percpu_wq
     13     0 root     rcu_tasks_kthread
     14     0 root     rcu_tasks_rude_kthread
     15     0 root     rcu_tasks_trace_kthread
     16     0 root     ksoftirqd/0
     17     0 root     rcu_preempt
     18     0 root     rcu_exp_par_gp_kthread_worker/0
     19     0 root     rcu_exp_gp_kthread_worker
     20     0 root     migration/0
     21     0 root     idle_inject/0
     22     0 root     cpuhp/0
     23     0 root     cpuhp/1
     24     0 root     idle_inject/1
     25     0 root     migration/1
     26     0 root     ksoftirqd/1
     27     0 root     kworker/1:0-cgroup_destroy
     28     0 root     kworker/1:0H-events_highpri
     29     0 root     cpuhp/2
     30     0 root     idle_inject/2
     31     0 root     migration/2
     32     0 root     ksoftirqd/2
     33     0 root     kworker/2:0-mm_percpu_wq
     35     0 root     cpuhp/3
     36     0 root     idle_inject/3
     37     0 root     migration/3
     38     0 root     ksoftirqd/3
     40     0 root     kworker/3:0H-kblockd
     41     0 root     cpuhp/4
     42     0 root     idle_inject/4
     43     0 root     migration/4
     44     0 root     ksoftirqd/4
     45     0 root     kworker/4:0-cgroup_destroy
     46     0 root     kworker/4:0H-events_highpri
     47     0 root     kdevtmpfs
     48     0 root     kworker/R-inet_frag_wq
     49     0 root     kworker/u20:1-events_unbound
     50     0 root     kauditd
     51     0 root     khungtaskd
     52     0 root     oom_reaper
     54     0 root     kworker/R-writeback
     55     0 root     kcompactd0
     56     0 root     ksmd
     57     0 root     khugepaged
     58     0 root     kworker/R-kintegrityd
     59     0 root     kworker/R-kblockd
     60     0 root     kworker/R-blkcg_punt_bio
     61     0 root     irq/9-acpi
     62     0 root     kworker/2:1-cgroup_destroy
     63     0 root     kworker/3:1-cgroup_destroy
     64     0 root     kworker/1:1-mm_percpu_wq
     65     0 root     kworker/R-tpm_dev_wq
     66     0 root     kworker/R-ata_sff
     67     0 root     kworker/R-md
     68     0 root     kworker/R-md_bitmap
     69     0 root     kworker/R-edac-poller
     70     0 root     kworker/R-devfreq_wq
     71     0 root     watchdogd
     73     0 root     kworker/0:1H-kblockd
     74     0 root     kswapd0
     75     0 root     ecryptfs-kthread
     76     0 root     kworker/R-kthrotld
     77     0 root     kworker/R-acpi_thermal_pm
     78     0 root     kworker/u20:3-events_unbound
     79     0 root     scsi_eh_0
     80     0 root     kworker/R-scsi_tmf_0
     81     0 root     scsi_eh_1
     82     0 root     kworker/R-scsi_tmf_1
     84     0 root     kworker/R-mld
     85     0 root     kworker/1:1H-kblockd
     86     0 root     kworker/R-ipv6_addrconf
     93     0 root     kworker/R-kstrp
     95     0 root     kworker/u21:0-ttm
    108     0 root     kworker/R-charger_manager
    134     0 root     kworker/2:1H-kblockd
    161     0 root     kworker/3:1H
    165     0 root     kworker/4:2-mm_percpu_wq
    177     0 root     scsi_eh_2
    179     0 root     kworker/R-scsi_tmf_2
    220     0 root     jbd2/sda2-8
    221     0 root     kworker/R-ext4-rsv-conversion
    235     0 root     kworker/3:2-mm_percpu_wq
    271     0 root     systemd-journal
    291     0 root     kworker/0:2-events
    343     0 root     systemd-udevd
    490     0 root     psimon
    578     0 root     kworker/R-cryptd
    580     0 root     irq/18-vmwgfx
    581     0 root     kworker/R-ttm
    709     0 root     power-profiles-
    729     0 root     snapd
    737     0 root     accounts-daemon
    745     0 root     cron
    752     0 root     switcheroo-cont
    761     0 root     systemd-logind
    762     0 root     udisksd
    785     0 root     NetworkManager
    786     0 root     wpa_supplicant
    885     0 root     ModemManager
   1086     0 root     cupsd
   1089     0 root     unattended-upgr
   1094     0 root     kworker/u20:5-events_unbound
   1105     0 root     gdm3
   1139     0 root     psimon
   1179     0 root     kworker/2:2H
   1409     0 root     upowerd
   1629     0 root     kworker/u21:1-ttm
   1733     0 root     gdm-session-wor
   1830     0 root     fusermount3
   2689     0 root     kworker/0:3-events
   2899     0 root     kworker/4:2H-kblockd
   3071     0 root     kworker/u20:2
   3073     0 root     kworker/3:0
   3077     0 root     kworker/1:2
    677   101 message+ dbus-daemon
    806   102 syslog   rsyslogd
   1114   106 kernoops kerneloops
   1123   106 kernoops kerneloops
    674   108 avahi    avahi-daemon
    784   108 avahi    avahi-daemon
   1107   115 cups-br+ cups-browsed
   1250   117 rtkit    rtkit-daemon
   1367   118 colord   colord
    704   987 polkitd  polkitd
    689   988 gnome-r+ gnome-remote-de
    468   990 systemd+ systemd-oomd
    480   991 systemd+ systemd-resolve
    482   996 systemd+ systemd-timesyn
   1743  1000 ksenox   systemd
   1750  1000 ksenox   (sd-pam)
   1759  1000 ksenox   pipewire
   1760  1000 ksenox   pipewire
   1762  1000 ksenox   snapd-desktop-i
   1765  1000 ksenox   wireplumber
   1769  1000 ksenox   pipewire-pulse
   1776  1000 ksenox   dbus-daemon
   1779  1000 ksenox   gnome-keyring-d
   1814  1000 ksenox   xdg-document-po
   1823  1000 ksenox   xdg-permission-
   1840  1000 ksenox   gdm-wayland-ses
   1851  1000 ksenox   gnome-session-b
   1913  1000 ksenox   gcr-ssh-agent
   1914  1000 ksenox   gnome-session-c
   1928  1000 ksenox   gvfsd
   1936  1000 ksenox   gvfsd-fuse
   1938  1000 ksenox   gnome-session-b
   1975  1000 ksenox   gnome-shell
   1979  1000 ksenox   at-spi-bus-laun
   1995  1000 ksenox   dbus-daemon
   2060  1000 ksenox   at-spi2-registr
   2067  1000 ksenox   snapd-desktop-i
   2081  1000 ksenox   gnome-shell-cal
   2092  1000 ksenox   evolution-sourc
   2101  1000 ksenox   gjs
   2104  1000 ksenox   ibus-daemon
   2107  1000 ksenox   gsd-a11y-settin
   2108  1000 ksenox   gsd-color
   2112  1000 ksenox   gsd-datetime
   2114  1000 ksenox   gsd-housekeepin
   2117  1000 ksenox   gsd-keyboard
   2118  1000 ksenox   gsd-media-keys
   2123  1000 ksenox   gsd-power
   2126  1000 ksenox   gsd-print-notif
   2129  1000 ksenox   gsd-rfkill
   2154  1000 ksenox   gsd-screensaver
   2156  1000 ksenox   gsd-sharing
   2161  1000 ksenox   gsd-smartcard
   2166  1000 ksenox   gsd-sound
   2167  1000 ksenox   gsd-wacom
   2168  1000 ksenox   evolution-alarm
   2188  1000 ksenox   gsd-disk-utilit
   2262  1000 ksenox   ibus-dconf
   2263  1000 ksenox   ibus-extension-
   2269  1000 ksenox   gvfs-udisks2-vo
   2283  1000 ksenox   ibus-portal
   2299  1000 ksenox   goa-daemon
   2324  1000 ksenox   gsd-printer
   2350  1000 ksenox   evolution-calen
   2361  1000 ksenox   goa-identity-se
   2362  1000 ksenox   gvfs-gphoto2-vo
   2375  1000 ksenox   gvfs-mtp-volume
   2382  1000 ksenox   gvfs-afc-volume
   2394  1000 ksenox   evolution-addre
   2395  1000 ksenox   gvfs-goa-volume
   2431  1000 ksenox   ibus-engine-sim
   2450  1000 ksenox   dconf-service
   2463  1000 ksenox   gvfsd-metadata
   2464  1000 ksenox   gvfsd-trash
   2488  1000 ksenox   xdg-desktop-por
   2508  1000 ksenox   gjs
   2511  1000 ksenox   gjs
   2575  1000 ksenox   tracker-miner-f
   2576  1000 ksenox   xdg-desktop-por
   2613  1000 ksenox   xdg-desktop-por
   2648  1000 ksenox   gnome-terminal-
   2655  1000 ksenox   bash
   2738  1000 ksenox   Xwayland
   2742  1000 ksenox   gsd-xsettings
   2765  1000 ksenox   ibus-x11
   2771  1000 ksenox   mutter-x11-fram
   2810  1000 ksenox   gvfsd-recent
   2821  1000 ksenox   gnome-text-edit
   2854  1000 ksenox   update-notifier
   3080  1000 ksenox   ps

–ò–∑ —Ç–∞–±–ª–∏—Ü—ã –≤–∏–¥–Ω–æ, —á—Ç–æ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π uid = 0 –∏ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é root(—Ç. –∫. root - —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –∫–æ—Ç–æ—Ä—ã–π –∏–º–µ–µ—Ç –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Å–∏—Å—Ç–µ–º–Ω—ã–º —Ä–µ—Å—É—Ä—Å–∞–º).
–°–¥–µ–ª–∞–µ–º —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é pid –∏ —É–∑–Ω–∞–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ/–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏ –∫–∞–∫–∏–º –ø—Ä–æ—Ü–µ—Å—Å–∞–º –æ–Ω–∏ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç:
ksenox@pupup:~$ ps -eo pid,uid,user,comm --sort=pid
    PID   UID USER     COMMAND
      1     0 root     systemd
      2     0 root     kthreadd
      3     0 root     pool_workqueue_release
      4     0 root     kworker/R-rcu_gp
      5     0 root     kworker/R-sync_wq
      6     0 root     kworker/R-slub_flushwq
      7     0 root     kworker/R-netns
      8     0 root     kworker/0:0-cgroup_bpf_destroy
     10     0 root     kworker/0:0H-events_highpri
     11     0 root     kworker/u20:0-flush-8:0
     12     0 root     kworker/R-mm_percpu_wq
     13     0 root     rcu_tasks_kthread
     14     0 root     rcu_tasks_rude_kthread
     15     0 root     rcu_tasks_trace_kthread
     16     0 root     ksoftirqd/0
     17     0 root     rcu_preempt
     18     0 root     rcu_exp_par_gp_kthread_worker/0
     19     0 root     rcu_exp_gp_kthread_worker
     20     0 root     migration/0
     21     0 root     idle_inject/0
     22     0 root     cpuhp/0
     23     0 root     cpuhp/1
     24     0 root     idle_inject/1
     25     0 root     migration/1
     26     0 root     ksoftirqd/1
     27     0 root     kworker/1:0-cgroup_destroy
     28     0 root     kworker/1:0H-events_highpri
     29     0 root     cpuhp/2
     30     0 root     idle_inject/2
     31     0 root     migration/2
     32     0 root     ksoftirqd/2
     33     0 root     kworker/2:0-mm_percpu_wq
     35     0 root     cpuhp/3
     36     0 root     idle_inject/3
     37     0 root     migration/3
     38     0 root     ksoftirqd/3
     40     0 root     kworker/3:0H-kblockd
     41     0 root     cpuhp/4
     42     0 root     idle_inject/4
     43     0 root     migration/4
     44     0 root     ksoftirqd/4
     45     0 root     kworker/4:0-cgroup_destroy
     46     0 root     kworker/4:0H-events_highpri
     47     0 root     kdevtmpfs
     48     0 root     kworker/R-inet_frag_wq
     49     0 root     kworker/u20:1-events_unbound
     50     0 root     kauditd
     51     0 root     khungtaskd
     52     0 root     oom_reaper
     54     0 root     kworker/R-writeback
     55     0 root     kcompactd0
     56     0 root     ksmd
     57     0 root     khugepaged
     58     0 root     kworker/R-kintegrityd
     59     0 root     kworker/R-kblockd
     60     0 root     kworker/R-blkcg_punt_bio
     61     0 root     irq/9-acpi
     62     0 root     kworker/2:1-cgroup_destroy
     63     0 root     kworker/3:1-cgroup_destroy
     64     0 root     kworker/1:1-ata_sff
     65     0 root     kworker/R-tpm_dev_wq
     66     0 root     kworker/R-ata_sff
     67     0 root     kworker/R-md
     68     0 root     kworker/R-md_bitmap
     69     0 root     kworker/R-edac-poller
     70     0 root     kworker/R-devfreq_wq
     71     0 root     watchdogd
     73     0 root     kworker/0:1H-kblockd
     74     0 root     kswapd0
     75     0 root     ecryptfs-kthread
     76     0 root     kworker/R-kthrotld
     77     0 root     kworker/R-acpi_thermal_pm
     78     0 root     kworker/u20:3-events_unbound
     79     0 root     scsi_eh_0
     80     0 root     kworker/R-scsi_tmf_0
     81     0 root     scsi_eh_1
     82     0 root     kworker/R-scsi_tmf_1
     84     0 root     kworker/R-mld
     85     0 root     kworker/1:1H-kblockd
     86     0 root     kworker/R-ipv6_addrconf
     93     0 root     kworker/R-kstrp
     95     0 root     kworker/u21:0-ttm
    108     0 root     kworker/R-charger_manager
    134     0 root     kworker/2:1H-kblockd
    161     0 root     kworker/3:1H
    165     0 root     kworker/4:2-mm_percpu_wq
    177     0 root     scsi_eh_2
    179     0 root     kworker/R-scsi_tmf_2
    220     0 root     jbd2/sda2-8
    221     0 root     kworker/R-ext4-rsv-conversion
    235     0 root     kworker/3:2-mm_percpu_wq
    271     0 root     systemd-journal
    291     0 root     kworker/0:2-events
    343     0 root     systemd-udevd
    468   990 systemd+ systemd-oomd
    480   991 systemd+ systemd-resolve
    482   996 systemd+ systemd-timesyn
    490     0 root     psimon
    578     0 root     kworker/R-cryptd
    580     0 root     irq/18-vmwgfx
    581     0 root     kworker/R-ttm
    674   108 avahi    avahi-daemon
    677   101 message+ dbus-daemon
    689   988 gnome-r+ gnome-remote-de
    704   987 polkitd  polkitd
    709     0 root     power-profiles-
    729     0 root     snapd
    737     0 root     accounts-daemon
    745     0 root     cron
    752     0 root     switcheroo-cont
    761     0 root     systemd-logind
    762     0 root     udisksd
    784   108 avahi    avahi-daemon
    785     0 root     NetworkManager
    786     0 root     wpa_supplicant
    806   102 syslog   rsyslogd
    885     0 root     ModemManager
   1086     0 root     cupsd
   1089     0 root     unattended-upgr
   1094     0 root     kworker/u20:5-flush-8:0
   1105     0 root     gdm3
   1107   115 cups-br+ cups-browsed
   1114   106 kernoops kerneloops
   1123   106 kernoops kerneloops
   1179     0 root     kworker/2:2H
   1250   117 rtkit    rtkit-daemon
   1367   118 colord   colord
   1409     0 root     upowerd
   1629     0 root     kworker/u21:1-ttm
   1733     0 root     gdm-session-wor
   1743  1000 ksenox   systemd
   1750  1000 ksenox   (sd-pam)
   1759  1000 ksenox   pipewire
   1760  1000 ksenox   pipewire
   1762  1000 ksenox   snapd-desktop-i
   1765  1000 ksenox   wireplumber
   1769  1000 ksenox   pipewire-pulse
   1776  1000 ksenox   dbus-daemon
   1779  1000 ksenox   gnome-keyring-d
   1814  1000 ksenox   xdg-document-po
   1823  1000 ksenox   xdg-permission-
   1830     0 root     fusermount3
   1840  1000 ksenox   gdm-wayland-ses
   1851  1000 ksenox   gnome-session-b
   1913  1000 ksenox   gcr-ssh-agent
   1914  1000 ksenox   gnome-session-c
   1928  1000 ksenox   gvfsd
   1936  1000 ksenox   gvfsd-fuse
   1938  1000 ksenox   gnome-session-b
   1975  1000 ksenox   gnome-shell
   1979  1000 ksenox   at-spi-bus-laun
   1995  1000 ksenox   dbus-daemon
   2060  1000 ksenox   at-spi2-registr
   2067  1000 ksenox   snapd-desktop-i
   2081  1000 ksenox   gnome-shell-cal
   2092  1000 ksenox   evolution-sourc
   2101  1000 ksenox   gjs
   2104  1000 ksenox   ibus-daemon
   2107  1000 ksenox   gsd-a11y-settin
   2108  1000 ksenox   gsd-color
   2112  1000 ksenox   gsd-datetime
   2114  1000 ksenox   gsd-housekeepin
   2117  1000 ksenox   gsd-keyboard
   2118  1000 ksenox   gsd-media-keys
   2123  1000 ksenox   gsd-power
   2126  1000 ksenox   gsd-print-notif
   2129  1000 ksenox   gsd-rfkill
   2154  1000 ksenox   gsd-screensaver
   2156  1000 ksenox   gsd-sharing
   2161  1000 ksenox   gsd-smartcard
   2166  1000 ksenox   gsd-sound
   2167  1000 ksenox   gsd-wacom
   2168  1000 ksenox   evolution-alarm
   2188  1000 ksenox   gsd-disk-utilit
   2262  1000 ksenox   ibus-dconf
   2263  1000 ksenox   ibus-extension-
   2269  1000 ksenox   gvfs-udisks2-vo
   2283  1000 ksenox   ibus-portal
   2299  1000 ksenox   goa-daemon
   2324  1000 ksenox   gsd-printer
   2350  1000 ksenox   evolution-calen
   2361  1000 ksenox   goa-identity-se
   2362  1000 ksenox   gvfs-gphoto2-vo
   2375  1000 ksenox   gvfs-mtp-volume
   2382  1000 ksenox   gvfs-afc-volume
   2394  1000 ksenox   evolution-addre
   2395  1000 ksenox   gvfs-goa-volume
   2431  1000 ksenox   ibus-engine-sim
   2450  1000 ksenox   dconf-service
   2463  1000 ksenox   gvfsd-metadata
   2464  1000 ksenox   gvfsd-trash
   2488  1000 ksenox   xdg-desktop-por
   2508  1000 ksenox   gjs
   2511  1000 ksenox   gjs
   2575  1000 ksenox   tracker-miner-f
   2576  1000 ksenox   xdg-desktop-por
   2613  1000 ksenox   xdg-desktop-por
   2648  1000 ksenox   gnome-terminal-
   2655  1000 ksenox   bash
   2689     0 root     kworker/0:3-events
   2738  1000 ksenox   Xwayland
   2742  1000 ksenox   gsd-xsettings
   2765  1000 ksenox   ibus-x11
   2771  1000 ksenox   mutter-x11-fram
   2810  1000 ksenox   gvfsd-recent
   2821  1000 ksenox   gnome-text-edit
   2854  1000 ksenox   update-notifier
   2899     0 root     kworker/4:2H-kblockd
   3071     0 root     kworker/u20:2-events_power_efficient
   3073     0 root     kworker/3:0
   3077     0 root     kworker/1:2
   3095     0 root     kworker/u20:4-flush-8:0
   3512     0 root     psimon
   3540  1000 ksenox   ps

–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ pid = 1 –∏ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –ø—Ä–æ—Ü–µ—Å—Å—É systemd(–ø–µ—Ä–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —è–¥—Ä–∞, –∏ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é —Å–∏—Å—Ç–µ–º—ã), –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∂–µ –∑–Ω–∞—á–µ–Ω–∏–µ pid =  3540 –∏ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –ø—Ä–æ—Ü–µ—Å—Å—É ps(–ø–æ—Å–ª–µ–¥–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏).

1.4. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤:
ksenox@pupup:~$ date
Sun Mar 16 12:22:18 PM UTC 2025
–°–Ω–æ–≤–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º —É—Ç–∏–ª–∏—Ç—É ps:
ksenox@pupup:~$ ps -eo pid,uid,user,comm --sort=pid
    PID   UID USER     COMMAND
      1     0 root     systemd
      2     0 root     kthreadd
      3     0 root     pool_workqueue_release
      4     0 root     kworker/R-rcu_gp
      5     0 root     kworker/R-sync_wq
      6     0 root     kworker/R-slub_flushwq
      7     0 root     kworker/R-netns
     10     0 root     kworker/0:0H-events_highpri
     12     0 root     kworker/R-mm_percpu_wq
     13     0 root     rcu_tasks_kthread
     14     0 root     rcu_tasks_rude_kthread
     15     0 root     rcu_tasks_trace_kthread
     16     0 root     ksoftirqd/0
     17     0 root     rcu_preempt
     18     0 root     rcu_exp_par_gp_kthread_worker/0
     19     0 root     rcu_exp_gp_kthread_worker
     20     0 root     migration/0
     21     0 root     idle_inject/0
     22     0 root     cpuhp/0
     23     0 root     cpuhp/1
     24     0 root     idle_inject/1
     25     0 root     migration/1
     26     0 root     ksoftirqd/1
     28     0 root     kworker/1:0H-events_highpri
     29     0 root     cpuhp/2
     30     0 root     idle_inject/2
     31     0 root     migration/2
     32     0 root     ksoftirqd/2
     33     0 root     kworker/2:0-mm_percpu_wq
     35     0 root     cpuhp/3
     36     0 root     idle_inject/3
     37     0 root     migration/3
     38     0 root     ksoftirqd/3
     41     0 root     cpuhp/4
     42     0 root     idle_inject/4
     43     0 root     migration/4
     44     0 root     ksoftirqd/4
     45     0 root     kworker/4:0-cgroup_destroy
     46     0 root     kworker/4:0H-events_highpri
     47     0 root     kdevtmpfs
     48     0 root     kworker/R-inet_frag_wq
     49     0 root     kworker/u20:1-flush-8:0
     50     0 root     kauditd
     51     0 root     khungtaskd
     52     0 root     oom_reaper
     54     0 root     kworker/R-writeback
     55     0 root     kcompactd0
     56     0 root     ksmd
     57     0 root     khugepaged
     58     0 root     kworker/R-kintegrityd
     59     0 root     kworker/R-kblockd
     60     0 root     kworker/R-blkcg_punt_bio
     61     0 root     irq/9-acpi
     62     0 root     kworker/2:1-cgroup_destroy
     64     0 root     kworker/1:1-events
     65     0 root     kworker/R-tpm_dev_wq
     66     0 root     kworker/R-ata_sff
     67     0 root     kworker/R-md
     68     0 root     kworker/R-md_bitmap
     69     0 root     kworker/R-edac-poller
     70     0 root     kworker/R-devfreq_wq
     71     0 root     watchdogd
     73     0 root     kworker/0:1H-kblockd
     74     0 root     kswapd0
     75     0 root     ecryptfs-kthread
     76     0 root     kworker/R-kthrotld
     77     0 root     kworker/R-acpi_thermal_pm
     78     0 root     kworker/u20:3-events_unbound
     79     0 root     scsi_eh_0
     80     0 root     kworker/R-scsi_tmf_0
     81     0 root     scsi_eh_1
     82     0 root     kworker/R-scsi_tmf_1
     84     0 root     kworker/R-mld
     85     0 root     kworker/1:1H-kblockd
     86     0 root     kworker/R-ipv6_addrconf
     93     0 root     kworker/R-kstrp
     95     0 root     kworker/u21:0-ttm
    108     0 root     kworker/R-charger_manager
    161     0 root     kworker/3:1H
    165     0 root     kworker/4:2-events
    177     0 root     scsi_eh_2
    179     0 root     kworker/R-scsi_tmf_2
    220     0 root     jbd2/sda2-8
    221     0 root     kworker/R-ext4-rsv-conversion
    235     0 root     kworker/3:2-mm_percpu_wq
    271     0 root     systemd-journal
    343     0 root     systemd-udevd
    468   990 systemd+ systemd-oomd
    480   991 systemd+ systemd-resolve
    482   996 systemd+ systemd-timesyn
    490     0 root     psimon
    578     0 root     kworker/R-cryptd
    580     0 root     irq/18-vmwgfx
    581     0 root     kworker/R-ttm
    674   108 avahi    avahi-daemon
    677   101 message+ dbus-daemon
    689   988 gnome-r+ gnome-remote-de
    704   987 polkitd  polkitd
    709     0 root     power-profiles-
    729     0 root     snapd
    737     0 root     accounts-daemon
    745     0 root     cron
    752     0 root     switcheroo-cont
    761     0 root     systemd-logind
    762     0 root     udisksd
    784   108 avahi    avahi-daemon
    785     0 root     NetworkManager
    786     0 root     wpa_supplicant
    806   102 syslog   rsyslogd
    885     0 root     ModemManager
   1086     0 root     cupsd
   1089     0 root     unattended-upgr
   1094     0 root     kworker/u20:5-events_unbound
   1105     0 root     gdm3
   1107   115 cups-br+ cups-browsed
   1114   106 kernoops kerneloops
   1123   106 kernoops kerneloops
   1179     0 root     kworker/2:2H
   1250   117 rtkit    rtkit-daemon
   1367   118 colord   colord
   1409     0 root     upowerd
   1629     0 root     kworker/u21:1-ttm
   1733     0 root     gdm-session-wor
   1743  1000 ksenox   systemd
   1750  1000 ksenox   (sd-pam)
   1759  1000 ksenox   pipewire
   1760  1000 ksenox   pipewire
   1762  1000 ksenox   snapd-desktop-i
   1765  1000 ksenox   wireplumber
   1769  1000 ksenox   pipewire-pulse
   1776  1000 ksenox   dbus-daemon
   1779  1000 ksenox   gnome-keyring-d
   1814  1000 ksenox   xdg-document-po
   1823  1000 ksenox   xdg-permission-
   1830     0 root     fusermount3
   1840  1000 ksenox   gdm-wayland-ses
   1851  1000 ksenox   gnome-session-b
   1913  1000 ksenox   gcr-ssh-agent
   1914  1000 ksenox   gnome-session-c
   1928  1000 ksenox   gvfsd
   1936  1000 ksenox   gvfsd-fuse
   1938  1000 ksenox   gnome-session-b
   1975  1000 ksenox   gnome-shell
   1979  1000 ksenox   at-spi-bus-laun
   1995  1000 ksenox   dbus-daemon
   2060  1000 ksenox   at-spi2-registr
   2067  1000 ksenox   snapd-desktop-i
   2081  1000 ksenox   gnome-shell-cal
   2092  1000 ksenox   evolution-sourc
   2101  1000 ksenox   gjs
   2104  1000 ksenox   ibus-daemon
   2107  1000 ksenox   gsd-a11y-settin
   2108  1000 ksenox   gsd-color
   2112  1000 ksenox   gsd-datetime
   2114  1000 ksenox   gsd-housekeepin
   2117  1000 ksenox   gsd-keyboard
   2118  1000 ksenox   gsd-media-keys
   2123  1000 ksenox   gsd-power
   2126  1000 ksenox   gsd-print-notif
   2129  1000 ksenox   gsd-rfkill
   2154  1000 ksenox   gsd-screensaver
   2156  1000 ksenox   gsd-sharing
   2161  1000 ksenox   gsd-smartcard
   2166  1000 ksenox   gsd-sound
   2167  1000 ksenox   gsd-wacom
   2168  1000 ksenox   evolution-alarm
   2188  1000 ksenox   gsd-disk-utilit
   2262  1000 ksenox   ibus-dconf
   2263  1000 ksenox   ibus-extension-
   2269  1000 ksenox   gvfs-udisks2-vo
   2283  1000 ksenox   ibus-portal
   2299  1000 ksenox   goa-daemon
   2324  1000 ksenox   gsd-printer
   2350  1000 ksenox   evolution-calen
   2361  1000 ksenox   goa-identity-se
   2362  1000 ksenox   gvfs-gphoto2-vo
   2375  1000 ksenox   gvfs-mtp-volume
   2382  1000 ksenox   gvfs-afc-volume
   2394  1000 ksenox   evolution-addre
   2395  1000 ksenox   gvfs-goa-volume
   2431  1000 ksenox   ibus-engine-sim
   2450  1000 ksenox   dconf-service
   2463  1000 ksenox   gvfsd-metadata
   2464  1000 ksenox   gvfsd-trash
   2488  1000 ksenox   xdg-desktop-por
   2508  1000 ksenox   gjs
   2511  1000 ksenox   gjs
   2575  1000 ksenox   tracker-miner-f
   2576  1000 ksenox   xdg-desktop-por
   2613  1000 ksenox   xdg-desktop-por
   2648  1000 ksenox   gnome-terminal-
   2655  1000 ksenox   bash
   2689     0 root     kworker/0:3-events
   2738  1000 ksenox   Xwayland
   2742  1000 ksenox   gsd-xsettings
   2765  1000 ksenox   ibus-x11
   2771  1000 ksenox   mutter-x11-fram
   2810  1000 ksenox   gvfsd-recent
   2821  1000 ksenox   gnome-text-edit
   2854  1000 ksenox   update-notifier
   3071     0 root     kworker/u20:2-flush-8:0
   3512     0 root     psimon
   3543     0 root     kworker/3:3-events
   3738  1000 ksenox   firefox
   3996  1000 ksenox   Socket Process
   4021  1000 ksenox   WebExtensions
   4028  1000 ksenox   RDD Process
   4059  1000 ksenox   Privileged Cont
   4115  1000 ksenox   snap
   4775  1000 ksenox   Utility Process
   4784  1000 ksenox   Isolated Web Co
   4828  1000 ksenox   Web Content
   4874     0 root     kworker/1:2-cgroup_destroy
   4892  1000 ksenox   Web Content
   5010     0 root     kworker/2:0H-kblockd
   5011     0 root     kworker/4:1H-kblockd
   5083     0 root     kworker/0:0-events
   5090     0 root     kworker/3:2H-kblockd
   5235  1000 ksenox   Web Content
   5337     0 root     kworker/4:1
   5338     0 root     kworker/4:3
   5342     0 root     kworker/u20:0-ext4-rsv-conversion
   5343     0 root     kworker/u20:4
   5395  1000 ksenox   ps

–ö–∞–∫ –æ—Ç–ª–∏—á–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã?
1. –ú–æ–∂–µ–º –≤–∏–¥–µ—Ç—å, —á—Ç–æ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –æ–±—ã—á–Ω–æ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é root —Å uid = 0 –∏–ª–∏ —Å–∏—Å—Ç–µ–º–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º, —Å–æ–∑–¥–∞–Ω–Ω—ã–º –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤. –û–±—ã—á–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∂–µ –∏–º–µ—é—Ç uid, –Ω–µ —Ä–∞–≤–Ω—ã–µ 0.
2. –°–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã —á–∞—Å—Ç–æ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è —Å –∏–º–µ–Ω–∞–º–∏ –∫–æ–º–∞–Ω–¥, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ–º —Å–∏—Å—Ç–µ–º—ã (systemd, kworker –∏ —Ç. –¥.), –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –∂–µ —á–∞—â–µ –∏–º–µ—é—Ç –Ω–∞–∑–≤–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø—Ä–æ–≥—Ä–∞–º–º (ps, Web Content, firefox, gnome-text-edit –∏ —Ç. –¥.).
3. –°–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã —á–∞—Å—Ç–æ –∏–º–µ—é—Ç –º–∞–ª—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è pid, –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç "–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö" pid.
–ò—Å—Ö–æ–¥—è –∏–∑ —Ç–∞–±–ª–∏—Ü—ã, –¥–∞–Ω–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω—ã —Å –ø–æ–º–æ—â—å—é –Ω–µ–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–æ.

–°–∞–º—ã–µ –≤–∞–∂–Ω—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã:
1. systemd (pid = 1, uid = 0) - –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –¥—Ä—É–≥–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–∏—Å—Ç–µ–º—ã.
2. kworker (pid = 10) - –ø—Ä–æ—Ü–µ—Å—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á –∏ —Å–æ–±—ã—Ç–∏–π –≤ —è–¥—Ä–µ Linux. –≠—Ç–∏ –∑–∞–¥–∞—á–∏ –≤–∫–ª—é—á–∞—é—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥—Ä–∞–π–≤–µ—Ä–∞–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –∏ –¥—Ä—É–≥–∏–µ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏. –≠—Ç–æ –≤–∞–∂–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º.
3. systemd-journal (pid = 271) - –ø—Ä–æ—Ü–µ—Å—Å –¥–ª—è –≤–µ–¥–µ–Ω–∏—è –∂—É—Ä–Ω–∞–ª–∞ —Å–∏—Å—Ç–µ–º—ã. –û–Ω –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è —è–¥—Ä–∞, —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ –¥—Ä—É–≥–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤ –±–∏–Ω –∂—É—Ä–Ω–∞–ª –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞. –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ —Å–∏—Å—Ç–µ–º—ã.
4. kthreadd (pid = 2) - –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ—Ü–µ—Å—Å —è–¥—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Ç –¥—Ä—É–≥–∏–º–∏ –ø–æ—Ç–æ–∫–∞–º–∏ —è–¥—Ä–∞. –ù–µ –∏–º–µ–µ—Ç –ø—Ä—è–º–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º, –Ω–æ –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã —è–¥—Ä–∞ —Å–æ–∑–¥–∞—é—Ç—Å—è —Å –µ–≥–æ –ø–æ–º–æ—â—å—é.
5. psimon (pid = 490) - –¥–µ–º–æ–Ω, –º–æ–Ω–∏—Ç–æ—Ä—è—â–∏–π —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã. –û–Ω –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ –∏ –ø–∞–º—è—Ç–∏, –∞ —Ç–∞–∫–∂–µ —Å–ª–µ–¥–∏—Ç –∑–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —Å–∏—Å—Ç–µ–º—ã –≤ —Ü–µ–ª–æ–º. –í–∞–∂–Ω–æ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã.

1.5.
ksenox@pupup:~$ date
Sun Mar 16 12:52:14 PM UTC 2025
–û–ø—Ä–µ–¥–µ–ª–∏–º –ø—Ä–∞—Ä–æ–¥–∏—Ç–µ–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ —Å –ø–æ–º–æ—â—å—é —É—Ç–∏–ª–∏—Ç—ã ps (–æ–±—ã—á–Ω–æ —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–µ—Å—Å–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è). –ò—Å—Ö–æ–¥—è –∏–∑ —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–π –ø—Ä–æ—à–ª–æ–≥–æ –ø—É–Ω–∫—Ç–∞ 1.4., –µ–≥–æ  pid = 1 –∏ ppid = 0:
ksenox@pupup:~$ ps -eo pid,ppid,uid,user,comm --sort=pid | head -n 3
    PID    PPID   UID USER     COMMAND
      1       0     0 root     systemd
      2       0     0 root     kthreadd

–í–∏–¥–∏–º, —á—Ç–æ –ø—Ä–∞—Ä–æ–¥–∏—Ç–µ–ª—å –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ - —ç—Ç–æ systemd.
–ü—Ä–æ–≤–µ—Ä–∏–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ /proc:
ksenox@pupup:~$ cat /proc/1/status
Name:	systemd
Umask:	0000
State:	S (sleeping)
Tgid:	1
Ngid:	0
Pid:	1
PPid:	0
TracerPid:	0
Uid:	0	0	0	0
Gid:	0	0	0	0
FDSize:	512
Groups:	 
NStgid:	1
NSpid:	1
NSpgid:	1
NSsid:	1
Kthread:	0
VmPeak:	   23336 kB
VmSize:	   23264 kB
VmLck:	       0 kB
VmPin:	       0 kB
VmHWM:	   14028 kB
VmRSS:	   14028 kB
RssAnon:	    4608 kB
RssFile:	    9420 kB
RssShmem:	       0 kB
VmData:	    4240 kB
VmStk:	     132 kB
VmExe:	      44 kB
VmLib:	   12188 kB
VmPTE:	      88 kB
VmSwap:	       0 kB
HugetlbPages:	       0 kB
CoreDumping:	0
THP_enabled:	1
untag_mask:	0xffffffffffffffff
Threads:	1
SigQ:	1/33154
SigPnd:	0000000000000000
ShdPnd:	0000000000000000
SigBlk:	7fefc1fe28014a03
SigIgn:	0000000000001000
SigCgt:	00000000000004ec
CapInh:	0000000000000000
CapPrm:	000001ffffffffff
CapEff:	000001ffffffffff
CapBnd:	000001ffffffffff
CapAmb:	0000000000000000
NoNewPrivs:	0
Seccomp:	0
Seccomp_filters:	0
Speculation_Store_Bypass:	not vulnerable
SpeculationIndirectBranch:	always enabled
Cpus_allowed:	1f
Cpus_allowed_list:	0-4
Mems_allowed:	00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000001
Mems_allowed_list:	0
voluntary_ctxt_switches:	2693
nonvoluntary_ctxt_switches:	1521
x86_Thread_features:	
x86_Thread_features_locked:	

–í–∞–∂–Ω—ã–µ –ø–æ–ª—è –≤ —ç—Ç–æ–º —Ñ–∞–π–ª–µ —ç—Ç–æ pid = 1, uid = 0 –∏ ppid = 0 (ppid - —ç—Ç–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞. –î–ª—è –ø—Ä–æ—Ü–µ—Å—Å–∞ —Å pid = 1 —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å –∏–º–µ–µ—Ç ppid = 0, —á—Ç–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –µ–≥–æ —Ä–æ–ª—å –∫–∞–∫ –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞).
–¢–∞–∫–∂–µ –≤ —ç—Ç–æ–º —Ñ–∞–π–ª–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∏–º—è –ø—Ä–æ—Ü–µ—Å—Å–∞, –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –≥—Ä—É–ø–ø—ã –ø—Ä–æ—Ü–µ—Å—Å–∞, —Ä–∞–∑–º–µ—Ä –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –ø–∞–º—è—Ç–∏ –∏ —Ä–µ–∑–∏–¥–µ–Ω—Ç–Ω–æ–π –ø–∞–º—è—Ç–∏, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ç–æ–∫–æ–≤ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –∏ –¥—Ä—É–≥–∞—è –≤–∞–∂–Ω–∞—è –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è.

2. –ü–æ—Ä–æ–∂–¥–µ–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤.
2.1. –°–æ–∑–¥–∞–¥–∏–º –ø—Ä–æ–≥—Ä–∞–º–º—É –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ —Å –ø—Å–µ–≤–¥–æ—Ä–∞—Å–ø–∞—Ä–∞–ª–ª–µ–ª–∏–≤–∞–Ω–∏–µ–º –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º –ø–æ—Ä–æ–∂–¥–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø–æ—Ç–æ–º–∫–∞:
ksenox@pupup:~$ date
Sun Mar 16 03:27:07 PM UTC 2025
ksenox@pupup:~$ cat task_2_1.c
#include <stdio.h>
#include <stdlib.h>
#include <sys/types.h>
#include <unistd.h>
#include <sys/wait.h>
#include <string.h>

void print_process_info(pid_t pid) {
    char path[256];
    FILE *file;
    char comm[256];

    printf("uid = %d, pid = %d, ppid = %d\n", getuid(), getpid(), getppid());
    snprintf(path, sizeof(path), "/proc/%d/comm", pid);
    file = fopen(path, "r");
    if (file) {
        fgets(comm, sizeof(comm), file);
        printf("comm = %s", comm);
        fclose(file);
    }
    
    snprintf(path, sizeof(path), "/proc/%d/status", pid);
    file = fopen(path, "r");
    if (file) {
        char name[256];
        while (fgets(name, sizeof(name), file)) {
            if (strncmp(name, "Name:", 5) == 0) {
                printf("name = %s", name + 6); // –ò–º—è –ø—Ä–æ—Ü–µ—Å—Å–∞
                break;
            }
        }
        fclose(file);
    }
}

int main() {
    pid_t pid = fork(); 

    if (pid < 0) {
        perror("fork failed");
        exit(1);
    }

    if (pid == 0) {  
        printf("–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å\n");
        print_process_info(getpid());
        
        int res = 2 + 2;
        printf("—Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –≤ –¥–æ—á–µ—Ä–Ω–µ–º –ø—Ä–æ—Ü–µ—Å—Å–µ = %d\n", res);

        exit(0);
    } else {  
        printf("—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å\n");
        print_process_info(getpid());  
        
        int res = 2 + 2;
        printf("—Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ = %d\n", res);
        
        wait(NULL);
        printf("–ø—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è\n");
        exit(0);
    }

    return 0;
}
ksenox@pupup:~$ gcc -o task_2_1 task_2_1.c 
ksenox@pupup:~$ ./task_2_1  
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å
uid = 1000, pid = 14212, ppid = 8896
comm = task_2_1
name = task_2_1
—Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ = 4
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å
uid = 1000, pid = 14213, ppid = 14212
comm = task_2_1
name = task_2_1
—Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –≤ –¥–æ—á–µ—Ä–Ω–µ–º –ø—Ä–æ—Ü–µ—Å—Å–µ = 4
–ø—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è

–ü—Ä–æ–≤–µ–¥–µ–º –∞–Ω–∞–ª–∏–∑ —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–≥—Ä–∞–º–º—ã: –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Å–æ–∑–¥–∞–µ—Ç –¥–≤–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Å –ø–æ–º–æ—â—å—é fork() - —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π(–∑–∞–ø—É—Å–∫–∞–µ—Ç –¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å, –≤—ã–≤–æ–¥–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–µ–±–µ, –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–≤–æ–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è, –∂–¥–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –¥–æ—á–µ—Ä–Ω–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è) –∏ –¥–æ—á–µ—Ä–Ω–∏–π(–≤—ã–≤–æ–¥–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–µ–±–µ –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–≤–æ–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è). –ö–∞–∂–¥—ã–π –ø—Ä–æ—Ü–µ—Å—Å –≤—ã–≤–æ–¥–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–µ–±–µ(uid, pid, pidd, name, comm) –Ω–∞ —ç–∫—Ä–∞–Ω. –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å –æ–∂–∏–¥–∞–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–æ—á–µ—Ä–Ω–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–∏ wait(NULL) –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —Å–∏—Ç—É–∞—Ü–∏–∏, –∫–æ–≥–¥–∞ —Ä–æ–¥–∏—Ç–µ–ª—å –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —Ä–∞–Ω—å—à–µ –¥–æ—á–µ—Ä–Ω–µ–≥–æ. –†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≥—Ä–∞–º–º—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –µ–≥–æ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π, –ø–æ—Ç–æ–º –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–æ—á–µ—Ä–Ω–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –µ–≥–æ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π (–ø–æ–∫–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å –æ–∂–∏–¥–∞–µ—Ç –¥–æ—á–µ—Ä–Ω–∏–π), –∏ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ä–∞–±–æ—Ç—É.

–í—ã–≤–æ–¥—ã –æ–± –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∞–¥—Ä–µ—Å–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞:
–ö–∞–∫ —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ—Ö–æ–¥–∏—Ç –¥–æ fork(), –û–° —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å, –∫–æ–ø–∏—Ä—É—è –∞–¥—Ä–µ—Å–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ (—Ç. –µ. —É –¥–æ—á–µ—Ä–Ω–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Å–≤–æ–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –ø–∞–º—è—Ç–∏). –ü–æ—Å–ª–µ fork() –æ–±–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Ä–∞–±–æ—Ç–∞—é –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –∏ –∏–º–µ—é—Ç —Å–≤–æ—é —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –∫–æ–ø–∏—é –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—É—é –º–æ–≥—É—Ç –∏–∑–º–µ–Ω—è—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –¥—Ä—É–≥–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞.

–ó–∞–º–µ–Ω–∏–º –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –Ω–∞ —Ü–∏–∫–ª—ã:
ksenox@pupup:~$ vim task_2_1.c
ksenox@pupup:~$ cat task_2_1.c
#include <stdio.h>
#include <stdlib.h>
#include <sys/types.h>
#include <unistd.h>
#include <sys/wait.h>
#include <string.h>

void print_process_info(pid_t pid) {
    char path[256];
    FILE *file;
    char comm[256];

    printf("uid = %d, pid = %d, ppid = %d\n", getuid(), getpid(), getppid());
    snprintf(path, sizeof(path), "/proc/%d/comm", pid);
    file = fopen(path, "r");
    if (file) {
        fgets(comm, sizeof(comm), file);
        printf("comm = %s", comm);
        fclose(file);
    }
    
    snprintf(path, sizeof(path), "/proc/%d/status", pid);
    file = fopen(path, "r");
    if (file) {
        char name[256];
        while (fgets(name, sizeof(name), file)) {
            if (strncmp(name, "Name:", 5) == 0) {
                printf("name = %s", name + 6); // –ò–º—è –ø—Ä–æ—Ü–µ—Å—Å–∞
                break;
            }
        }
        fclose(file);
    }
}

int main() {
    pid_t pid = fork(); 

    if (pid < 0) {
        perror("fork failed");
        exit(1);
    }

    if (pid == 0) {  
        printf("–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å\n");
        print_process_info(getpid());
        
        int res = 0;
	for (int i=0; i<150; i++){
		res++;
	}

        printf("—Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –≤ –¥–æ—á–µ—Ä–Ω–µ–º –ø—Ä–æ—Ü–µ—Å—Å–µ = %d\n", res);

        exit(0);
    } else {  
        printf("—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å\n");
        print_process_info(getpid());  
        
        int res = 0;
	for (int i=0; i<150; i++){
		res++;
	}
        printf("—Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ = %d\n", res);
        
        wait(NULL);
        printf("–ø—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è\n");
        exit(0);
    }

    return 0;
}
ksenox@pupup:~$ ./task_2_1 
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å
uid = 1000, pid = 15564, ppid = 8896
comm = task_2_1
name = task_2_1
—Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ = 150
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å
uid = 1000, pid = 15565, ppid = 15564
comm = task_2_1
name = task_2_1
—Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –≤ –¥–æ—á–µ—Ä–Ω–µ–º –ø—Ä–æ—Ü–µ—Å—Å–µ = 150
–ø—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è
ksenox@pupup:~$ ./task_2_1 
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å
uid = 1000, pid = 15567, ppid = 8896
comm = task_2_1
name = task_2_1
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å
—Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ = 150
uid = 1000, pid = 15568, ppid = 15567
comm = task_2_1
name = task_2_1
—Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –≤ –¥–æ—á–µ—Ä–Ω–µ–º –ø—Ä–æ—Ü–µ—Å—Å–µ = 150
–ø—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è
–í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –≤–∏–¥–Ω–æ, —á—Ç–æ –∏–Ω–æ–≥–¥–∞ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ –º–æ–≥—É—Ç "–Ω–∞—Å–ª–∞–∏–≤–∞—Ç—å—Å—è" –Ω–∞ –¥–∞–Ω–Ω—ã–µ –¥–æ—á–µ—Ä–Ω–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞.

2.2. –°–æ–∑–¥–∞–¥–∏–º —Ñ–∞–π–ª—ã —Å —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º(father.c) –∏ —Å –¥–æ—á–µ—Ä–Ω–∏–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º (son.c):
ksenox@pupup:~$ date
Sun Mar 16 04:46:17 PM UTC 2025
ksenox@pupup:~$ vim son.c
ksenox@pupup:~$ cat son.c 
#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>

int main(){
	printf("–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å: uid = %d, pid = %d, ppid = %d\n", getuid(), getpid(), getppid());
	system("ps -l > son_processes.txt");
	sleep(10);
	printf("–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É\n");
	return 0;
}
ksenox@pupup:~$ vim father.c
ksenox@pupup:~$ cat father.c 
#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <sys/types.h>
#include <sys/wait.h>

int main(){
	pid_t pid = fork();
	if (pid < 0){
		perror("–æ—à–∏–±–∫–∞ fork");
		return 1;
	}
	
	if (pid == 0){
		execl("./son", "son", NULL);
		return 1;
	}else{
		printf("—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å: uid = %d, pid = %d, ppid = %d\n", getuid(), getpid(), getppid());
		system("ps -l > father_processes.txt");
		wait(NULL);
		printf("—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É\n");
	}

	return 0;
}
ksenox@pupup:~$ gcc -o son son.c 
ksenox@pupup:~$ gcc -o father father.c
ksenox@pupup:~$ ./father 
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å: uid = 1000, pid = 16789, ppid = 8896
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å: uid = 1000, pid = 16790, ppid = 16789
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É
—Ä–æ–¥–∏—Ç–µ–ª—å –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É

–ü–æ—Å–º–æ—Ç—Ä–∏–º —Ç–∞–±–ª–∏—Ü—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—É—á–∏–ª–∏—Å—å –ø—Ä–∏ –æ–±—ã—á–Ω–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤:
ksenox@pupup:~$ cat son_processes.txt 
F S   UID     PID    PPID  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD
0 S  1000    8896    8889  0  80   0 -  2858 do_wai pts/0    00:00:00 bash
0 T  1000   13703    8896  0  80   0 -  7069 do_sig pts/0    00:00:00 vim
0 S  1000   16789    8896  0  80   0 -   670 do_wai pts/0    00:00:00 father
0 S  1000   16790   16789  0  80   0 -   670 do_wai pts/0    00:00:00 son
0 S  1000   16791   16789  0  80   0 -   700 do_wai pts/0    00:00:00 sh
0 S  1000   16792   16790  0  80   0 -   700 do_wai pts/0    00:00:00 sh
4 R  1000   16793   16791 99  80   0 -     0 ?      pts/0    00:00:00 ps
4 R  1000   16794   16792 99  80   0 -  3466 -      pts/0    00:00:00 ps
ksenox@pupup:~$ cat father_processes.txt 
F S   UID     PID    PPID  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD
0 S  1000    8896    8889  0  80   0 -  2858 do_wai pts/0    00:00:00 bash
0 T  1000   13703    8896  0  80   0 -  7069 do_sig pts/0    00:00:00 vim
0 S  1000   16789    8896  0  80   0 -   670 do_wai pts/0    00:00:00 father
0 S  1000   16790   16789  0  80   0 -   670 do_wai pts/0    00:00:00 son
0 S  1000   16791   16789  0  80   0 -   700 do_wai pts/0    00:00:00 sh
0 S  1000   16792   16790  0  80   0 -   700 do_wai pts/0    00:00:00 sh
4 R  1000   16793   16791 99  80   0 -  3466 -      pts/0    00:00:00 ps
4 R  1000   16794   16792 99  80   0 -  3466 -      pts/0    00:00:00 ps
–ú–æ–∂–µ–º –≤–∏–¥–µ—Ç—å, —á—Ç–æ ppid —É sh –∏ ps —Ä–∞–∑–ª–∏—á–∞—é—Ç—Å—è, —á—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ father –∏ son. –¢–∞–∫–∂–µ father –∏ son –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ (—Ä–æ–¥–∏—Ç–µ–ª—å –∂–¥–µ—Ç –¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å), –∏ ps –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ –º–æ–º–µ–Ω—Ç, –∫–æ–≥–¥–∞ –ø—Ä–æ—Ü–µ—Å—Å—ã —É–∂–µ —Ä–∞–±–æ—Ç–∞—é—Ç (addr –Ω–µ —Ä–∞–≤–µ–Ω –Ω—É–ª—é).

–ó–∞–ø—É—Å—Ç–∏–º –ø—Ä–æ–≥—Ä–∞–º–º—É –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ:
ksenox@pupup:~$ ./father &
[1] 3294
ksenox@pupup:~$ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å: uid = 1000, pid = 3294, ppid = 2953
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å: uid = 1000, pid = 3295, ppid = 3294
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É

[1]+  –ó–∞–≤–µ—Ä—à—ë–Ω        ./father

–í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –ø—Ä–æ–≤–µ—Ä–∏–º –ø—Ä–æ—Ü–µ—Å—Å father:
ksenox@pupup:~$ ps aux | grep father
ksenox      3294  0.0  0.0   2680  1620 pts/0    S    17:33   0:00 ./father
ksenox      3305  0.0  0.0   9308  2332 pts/1    S+   17:33   0:00 grep --color=auto father

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:
ksenox@pupup:~$ ps aux | grep father
ksenox      3307  0.0  0.0   9308  2328 pts/1    S+   17:33   0:00 grep --color=auto father

–ü–æ—Å–º–æ—Ç—Ä–∏–º —Ç–∞–±–ª–∏—Ü—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—É—á–∏–ª–∏—Å—å –ø—Ä–∏ —Ñ–æ–Ω–æ–≤–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤:
ksenox@pupup:~$ cat son_processes.txt
F S   UID     PID    PPID  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD
0 S  1000    8896    8889  0  80   0 -  2987 do_sel pts/0    00:00:00 bash
0 T  1000   13703    8896  0  80   0 -  7069 do_sig pts/0    00:00:00 vim
0 S  1000   17454    8896  0  80   0 -   670 do_wai pts/0    00:00:00 father
0 S  1000   17455   17454  0  80   0 -   670 do_wai pts/0    00:00:00 son
0 S  1000   17456   17454  0  80   0 -   700 do_wai pts/0    00:00:00 sh
0 S  1000   17457   17455  0  80   0 -   700 do_wai pts/0    00:00:00 sh
4 R  1000   17458   17457 99  80   0 -  3466 -      pts/0    00:00:00 ps
4 R  1000   17459   17456  0  80   0 -  3466 -      pts/0    00:00:00 ps
ksenox@pupup:~$ cat father_processes.txt 
F S   UID     PID    PPID  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD
0 S  1000    8896    8889  0  80   0 -  2987 do_sel pts/0    00:00:00 bash
0 T  1000   13703    8896  0  80   0 -  7069 do_sig pts/0    00:00:00 vim
0 S  1000   17454    8896  0  80   0 -   670 do_wai pts/0    00:00:00 father
0 S  1000   17455   17454  0  80   0 -   670 do_wai pts/0    00:00:00 son
0 S  1000   17456   17454  0  80   0 -   700 do_wai pts/0    00:00:00 sh
0 S  1000   17457   17455  0  80   0 -   700 do_wai pts/0    00:00:00 sh
4 R  1000   17458   17457 99  80   0 -     0 -      pts/0    00:00:00 ps
4 R  1000   17459   17456 99  80   0 -  3466 -      pts/0    00:00:00 ps
–í —Ñ–æ–Ω–æ–≤–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ father –∏ son –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –≤ —Ñ–æ–Ω–µ, —Ç. –µ. —Ç–µ—Ä–º–∏–Ω–∞–ª –Ω–µ –∂–¥–µ—Ç –∏—Ö –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è, –∏ ps –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ä–∞–Ω—å—à–µ, —á–µ–º –ø—Ä–æ—Ü–µ—Å—Å—ã –º–æ–≥—É—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å—Å—è (addr = 0 —É –æ–¥–Ω–æ–≥–æ –∏–∑ ps).

2.3. 
ksenox@pupup:~$ date
Sun Mar 16 05:46:17 PM UTC 2025
–§—É–Ω–∫—Ü–∏–∏ —Å–µ–º–µ–π—Å—Ç–≤–∞ exec() –∑–∞–º–µ–Ω—è—é—Ç –∫–æ–¥ –∏ –¥–∞–Ω–Ω—ã–µ —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –Ω–∞ –∫–æ–¥ –Ω–æ–≤–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã.
–°–æ–∑–¥–∞–¥–∏–º —Ñ–∞–π–ª—ã —Å —Ä–∞–∑–Ω—ã–º –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º exec():
1. execve() - –ø–µ—Ä–µ–¥–∞—á–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
ksenox@pupup:~$ vim exec_child.c
ksenox@pupup:~$ cat exec_child.c
#include <stdio.h>
#include <stdlib.h>

int main(int argc, char *argv[], char *envp[]){
        printf("–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞—á–∞–ª—Å—è\n");

        printf("–∞—Ä–≥—É–º–µ–Ω—Ç—ã:\n");
        for (int i=0; argv[i] != NULL; i++){
                printf("argv[%d] = %s\n", i, argv[i]);
        }
        printf("\n –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:\n");
        for(int i=0; envp[i] != NULL; i++){
                printf("%s\n", envp[i]);
        }

        printf("–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å –∑–≤–µ—Ä—à–∏–ª—Å—è\n");
        return 0;
}
ksenox@pupup:~$ gcc -o exec_child exec_child.c
ksenox@pupup:~$ vim exec_parent.c
ksenox@pupup:~$ cat exec_parent.c
#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>

int main(){
        printf("p–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞—á–∞–ª—Å—è\n");
        char *args[] = {"exec_child", "arg1", "arg2", "arg3", NULL};
        char *env[] = {"MY_VAR=Hello", "TEST_VAR=42", NULL};

        execve("./exec_child", args, env);
        return 1;
}
ksenox@pupup:~$ gcc -o exec_parent exec_parent.c
ksenox@pupup:~$ ./exec_parent 
p–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞—á–∞–ª—Å—è
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞—á–∞–ª—Å—è
–∞—Ä–≥—É–º–µ–Ω—Ç—ã:
argv[0] = exec_child
argv[1] = arg1
argv[2] = arg2
argv[3] = arg3

–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
MY_VAR=Hello
TEST_VAR=42
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å –∑a–≤–µ—Ä—à–∏–ª—Å—è
2. execlp - –ø–æ–∏—Å–∫ –≤ $PATH:
ksenox@pupup:~$ cat exec_parent.c
#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>

int main(){
        printf("p–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞—á–∞–ª—Å—è\n");
        char *args[] = {"exec_child", "arg1", "arg2", "arg3", NULL};
        char *env[] = {"MY_VAR=Hello", "TEST_VAR=42", NULL};
	
	execlp("ls", "ls", "-l", NULL);
        //execve("./exec_child", args, env);
        return 1;
}
ksenox@pupup:~$ gcc -o exec_parent exec_parent.c 
ksenox@pupup:~$ ./exec_parent 
p–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞—á–∞–ª—Å—è
–∏—Ç–æ–≥–æ 30728
-rwSrw-r-- 1 ksenox ksenox      386 Feb 26 11:04 accessing_another_users_file.c
-rwxrwxr-x 1 ksenox ksenox    16592 Mar 16 15:36 a.out
-rw-rw-r-- 1 ksenox ksenox        3 Feb 27 15:28 customfile
drwxr-xr-x 3 ksenox ksenox     4096 Mar 16 18:47 Desktop
drwxr-xr-x 2 ksenox ksenox     4096 Feb 17 21:39 Documents
drwxr-xr-x 2 ksenox ksenox     4096 Feb 22 20:10 Downloads
-rwxrwxr-x 1 ksenox ksenox    16008 Mar 16 18:53 exec_child
-rw-rw-r-- 1 ksenox ksenox      562 Mar 16 18:46 exec_child.c
-rwxrwxr-x 1 ksenox ksenox    16064 Mar 16 18:58 exec_parent
-rw-rw-r-- 1 ksenox ksenox      621 Mar 16 18:58 exec_parent.c
-rwxrwxr-x 1 ksenox ksenox      397 Feb 24 21:16 experiment_directory.sh
-rwxrwxr-x 1 ksenox ksenox    16344 Mar 16 17:32 father
-rw-rw-r-- 1 ksenox ksenox      543 Mar 16 17:32 father.c
-rw-rw-r-- 1 ksenox ksenox      519 Mar 16 17:33 father_processes.txt
-rwxrwxr-x 1 ksenox ksenox      375 Feb 23 13:11 find_files_script.sh
-rwxrwxr-x 1 ksenox ksenox      503 Feb 28 11:32 find_hl_script.sh
-rwxrwxr-x 1 ksenox ksenox      569 Feb 23 16:22 find_sc_script.sh
-rw-rw-rw- 5 root   root        250 Mar  7 05:10 hl.txt
-rw-rw-r-- 1 ksenox ksenox        0 Mar 16 10:37 intro
drwxrwxr-x 2 ksenox ksenox     4096 Feb 23 19:13 Music
-rw-rw-r-- 1 ksenox ksenox 31140854 Mar 16 11:54 myfile
-rw-rw-r-- 1 ksenox ksenox    75033 Mar  7 05:01 mylog.log
-rw-rw-r-- 1 ksenox ksenox      386 Mar 16 11:54 myprog
-rw------- 1 ksenox ksenox        0 Mar 16 11:57 nohup.out
lrwxrwxrwx 1 ksenox ksenox       23 Feb 23 15:08 original_file.txt -> /home/original_file.txt
-rw-rw-r-- 1 ksenox ksenox      446 Feb 23 13:07 out_file
-rwsrwxr-x 1 ksenox ksenox    16208 Feb 26 10:17 outfile
drwxr-xr-x 2 ksenox ksenox     4096 Feb 17 21:39 Pictures
drwxr-xr-x 2 ksenox ksenox     4096 Feb 17 21:39 Public
drwx------ 5 ksenox ksenox     4096 Feb 23 09:11 snap
-rwxrwxr-x 1 ksenox ksenox    16216 Mar 16 16:59 son
-rw-rw-r-- 1 ksenox ksenox      319 Mar 16 16:59 son.c
-rw-rw-r-- 1 ksenox ksenox      592 Mar 16 17:33 son_processes.txt
-rwxrwxr-x 1 ksenox ksenox    16592 Mar 16 16:35 task_2_1
-rw-rw-r-- 1 ksenox ksenox     1743 Mar 16 16:35 task_2_1.c
drwxr-xr-x 2 ksenox ksenox     4096 Feb 17 21:39 Templates
drwxrwxrwx 2 ksenox root       4096 Feb 26 19:02 test_dir
-rw-r--r-- 1 root   root        320 Mar  7 06:16 test_hl_script.txt
-rw-rw-rw- 1 root   root        539 Feb 23 14:22 test_ls.txt
-rw-rw-r-- 1 ksenox ksenox      448 Mar  7 05:13 test_script.txt
-rw-rw-r-- 1 ksenox ksenox      181 Feb 23 16:22 test_sc_script.txt
drwxr-xr-x 2 ksenox ksenox     4096 Feb 23 15:17 Videos
3. execv() - –ø–µ—Ä–µ–¥–∞—á–∞ –º–∞—Å—Å–∏–≤–∞:
ksenox@pupup:~$ cat exec_parent.c
#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>

int main(){
        printf("p–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞—á–∞–ª—Å—è\n");
        char *args[] = {"exec_child", "arg1", "arg2", "arg3", NULL};
        char *env[] = {"MY_VAR=Hello", "TEST_VAR=42", NULL};

       	//execlp("ls", "ls", "-l", NULL);
        execv("./exec_child", args);
        //execve("./exec_child", args, env);
        return 1;
}
ksenox@pupup:~$ gcc -o exec_parent exec_parent.c 
ksenox@pupup:~$ ./exec_parent 
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞—á–∞–ª—Å—è
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞—á–∞–ª—Å—è
–∞—Ä–≥—É–º–µ–Ω—Ç—ã:
argv[0] = exec_child
argv[1] = arg1
argv[2] = arg2
argv[3] = arg3

–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
SHELL=/bin/bash
SESSION_MANAGER=local/pupup:@/tmp/.ICE-unix/1931,unix/pupup:/tmp/.ICE-unix/1931
QT_ACCESSIBILITY=1
COLORTERM=truecolor
XDG_CONFIG_DIRS=/etc/xdg/xdg-ubuntu:/etc/xdg
XDG_MENU_PREFIX=gnome-
GNOME_DESKTOP_SESSION_ID=this-is-deprecated
LANGUAGE=ru_RU:en
LC_ADDRESS=en_US.UTF-8
GNOME_SHELL_SESSION_MODE=ubuntu
LC_NAME=en_US.UTF-8
SSH_AUTH_SOCK=/run/user/1000/keyring/ssh
MEMORY_PRESSURE_WRITE=c29tZSAyMDAwMDAgMjAwMDAwMAA=
XMODIFIERS=@im=ibus
DESKTOP_SESSION=ubuntu
LC_MONETARY=en_US.UTF-8
GTK_MODULES=gail:atk-bridge
PWD=/home/ksenox
LOGNAME=ksenox
XDG_SESSION_DESKTOP=ubuntu
XDG_SESSION_TYPE=wayland
SYSTEMD_EXEC_PID=1971
XAUTHORITY=/run/user/1000/.mutter-Xwaylandauth.OD2R32
HOME=/home/ksenox
USERNAME=ksenox
IM_CONFIG_PHASE=1
LC_PAPER=en_US.UTF-8
LANG=ru_RU.UTF-8
LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=00:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.avif=01;35:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:*~=00;90:*#=00;90:*.bak=00;90:*.crdownload=00;90:*.dpkg-dist=00;90:*.dpkg-new=00;90:*.dpkg-old=00;90:*.dpkg-tmp=00;90:*.old=00;90:*.orig=00;90:*.part=00;90:*.rej=00;90:*.rpmnew=00;90:*.rpmorig=00;90:*.rpmsave=00;90:*.swp=00;90:*.tmp=00;90:*.ucf-dist=00;90:*.ucf-new=00;90:*.ucf-old=00;90:
XDG_CURRENT_DESKTOP=ubuntu:GNOME
MEMORY_PRESSURE_WATCH=/sys/fs/cgroup/user.slice/user-1000.slice/user@1000.service/session.slice/org.gnome.Shell@wayland.service/memory.pressure
VTE_VERSION=7600
WAYLAND_DISPLAY=wayland-0
GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/b82c6ad3_c587_4bf6_9bc0_cffd27676abe
GNOME_SETUP_DISPLAY=:1
LESSCLOSE=/usr/bin/lesspipe %s %s
XDG_SESSION_CLASS=user
TERM=xterm-256color
LC_IDENTIFICATION=en_US.UTF-8
LESSOPEN=| /usr/bin/lesspipe %s
USER=ksenox
GNOME_TERMINAL_SERVICE=:1.112
DISPLAY=:0
SHLVL=1
GSM_SKIP_SSH_AGENT_WORKAROUND=true
LC_TELEPHONE=en_US.UTF-8
QT_IM_MODULE=ibus
LC_MEASUREMENT=en_US.UTF-8
PAPERSIZE=letter
XDG_RUNTIME_DIR=/run/user/1000
DEBUGINFOD_URLS=https://debuginfod.ubuntu.com 
LC_TIME=en_US.UTF-8
XDG_DATA_DIRS=/usr/share/ubuntu:/usr/share/gnome:/usr/local/share/:/usr/share/:/var/lib/snapd/desktop
PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin
GDMSESSION=ubuntu
DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1000/bus
LC_NUMERIC=en_US.UTF-8
_=./exec_parent
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≤–µ—Ä—à–∏–ª—Å—è

2.4. 
ksenox@pupup:~$ date
Sun Mar 16 07:21:53 PM UTC 2025
–†–∞—Å—Å–º–æ—Ç—Ä–∏–º 3 —Å–∏—Ç—É–∞—Ü–∏–∏ —Å –Ω–æ—Ä–º–∞–ª—å–Ω—ã–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º –ø—Ä–æ—Ü–µ—Å—Å–∞, —Å–æ —Å–º–µ–Ω–æ–π —Ä–æ–¥–∏—Ç–µ–ª—è –∏ —Ñ–∏–∫—Å–∞—Ü–∏–µ–π —Å–æ—Å—Ç–æ—è–Ω–∏—è zombie (–º–æ–≥—É—Ç –±—ã—Ç—å –∏–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ —Å–∏—Å—Ç–µ–º–µ):
–∞) –ø—Ä–æ—Ü–µ—Å—Å-–æ—Ç–µ—Ü –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å-—Å—ã–Ω –∏ –æ–∂–∏–¥–∞–µ—Ç –µ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è.
–ü—Ä–æ–≥—Ä–∞–º–º–∞, –æ—Ç–≤–µ—á–∞—é—â–∞—è –∑–∞ –ø—Ä–æ—Ü–µ—Å—Å-–æ—Ç—Ü–∞ –∏ –∫–æ—Ç–æ—Ä–∞—è –æ–∂–∏–¥–∞–µ—Ç –µ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:
ksenox@pupup:~$ cat father.c
#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <sys/types.h>
#include <sys/wait.h>

int main(){
	pid_t pid = fork();
	if (pid < 0){
		perror("–æ—à–∏–±–∫–∞ fork");
		return 1;
	}
	
	if (pid == 0){
		execl("./son", "son", NULL);
		return 1;
	}else{
		printf("—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å: uid = %d, pid = %d, ppid = %d\n", getuid(), getpid(), getppid());
		system("ps -l > father_processes.txt");
		wait(NULL);
		printf("—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É\n");
	}

	return 0;
}
–ü—Ä–æ–≥—Ä–∞–º–º–∞, –æ—Ç–≤–µ—á–∞—é—â–∞—è –∑–∞ –ø—Ä–æ—Ü–µ—Å—Å-—Å—ã–Ω–∞:
ksenox@pupup:~$ cat son.c
#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>

int main(){
	printf("–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å: uid = %d, pid = %d, ppid = %d\n", getuid(), getpid(), getppid());
	system("ps -l > son_processes.txt");
	sleep(10);
	printf("–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É\n");
	return 0;
}
–ó–∞–ø—É—Å—Ç–∏–º –ø—Ä–æ—Ü–µ—Å—Å-–æ—Ç–µ—Ü:
ksenox@pupup:~$ ./father 
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å: uid = 1000, pid = 8479, ppid = 2953
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å: uid = 1000, pid = 8480, ppid = 8479
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É

–±) –ø—Ä–æ—Ü–µ—Å—Å-–æ—Ç–µ—Ü –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å-—Å—ã–Ω –∏ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è, –Ω–µ –æ–∂–∏–¥–∞—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞-—Å—ã–Ω–∞.
ksenox@pupup:~$ nano father.c
ksenox@pupup:~$ cat father.c
#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <sys/types.h>
#include <sys/wait.h>

int main(){
	pid_t pid = fork();
	if (pid < 0){
		perror("–æ—à–∏–±–∫–∞ fork");
		return 1;
	}
	
	if (pid == 0){
		execl("./son", "son", NULL);
		return 1;
	}else{
		printf("—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å: uid = %d, pid = %d, ppid = %d\n", getuid(), getpid(), getppid());
		system("ps -l > father_processes.txt");
		//wait(NULL);
		printf("—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É\n");
	}

	return 0;
}
ksenox@pupup:~$ ./father 
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å: uid = 1000, pid = 9160, ppid = 9087
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å: uid = 1000, pid = 9161, ppid = 9160
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É
ksenox@pupup:~$ ps -l
F S   UID     PID    PPID  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD
0 S  1000    9087    9080  0  80   0 -  2760 do_wai pts/0    00:00:00 bash
0 S  1000    9161    1723  0  80   0 -   670 hrtime pts/0    00:00:00 son
4 R  1000    9175    9087 99  80   0 -  3465 -      pts/0    00:00:00 ps
ksenox@pupup:~$ –¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É
ksenox@pupup:~$ ps -l
F S   UID     PID    PPID  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD
0 S  1000    9087    9080  0  80   0 -  2760 do_wai pts/0    00:00:00 bash
4 R  1000    9181    9087 99  80   0 -  3465 -      pts/0    00:00:00 ps

–í–∏–¥–∏–º, —á—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å-—Å—ã–Ω –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤, —Ç. –∫. –ø—Ä–æ—Ü–µ—Å—Å-–æ—Ç–µ—Ü –Ω–µ –¥–æ–∂–¥–∞–ª—Å—è –µ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏ ppid –ø—Ä–æ—Ü–µ—Å—Å–∞-—Å—ã–Ω–∞ —Å—Ç–∞–ª —Ä–∞–≤–µ–Ω 1723 (—É –ø—Ä–æ—Ü–µ—Å—Å–∞-–æ—Ç—Ü–∞ pid = 9160, —Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –ø—Ä–æ—Ü–µ—Å—Å-—Å—ã–Ω —Å–º–µ–Ω–∏–ª —Ä–æ–¥–∏—Ç–µ–ª—è –Ω–∞ pid = 1723). –ü—Ä–æ–≤–µ—Ä–∏–º –ø—Ä–æ—Ü–µ—Å—Å —Å pid = 1723:
ksenox@pupup:~$ ps -p 1723
    PID TTY          TIME CMD
   1723 ?        00:00:03 systemd

–ü–æ–ª—É—á–∞–µ—Ç—Å—è, —á—Ç–æ –µ—Å–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å-—Å—ã–Ω –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞-—Ä–æ–¥–∏—Ç–µ–ª—è, —Ç–æ –µ–≥–æ —Ä–æ–¥–∏—Ç–µ–ª—å –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ –Ω–æ–≤–æ–≥–æ —Ä–æ–¥–∏—Ç–µ–ª—è systemd, –ø–æ—Å–∫–æ–ª—å–∫—É –¥–∞–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–Ω–∏–º–∞–µ—Ç –ø–æ–∑–∏—Ü–∏—é –ø—Ä–µ–¥–∫–∞ –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤, —É –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç —Ä–æ–¥–∏—Ç–µ–ª—è.

d) –ø—Ä–æ—Ü–µ—Å—Å-–æ—Ç–µ—Ü –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å-—Å—ã–Ω –∏ –Ω–µ –æ–∂–∏–¥–∞–µ—Ç –µ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è; –ø—Ä–æ—Ü–µ—Å—Å-—Å—ã–Ω –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Å–≤–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ:
ksenox@pupup:~$ nano father.c
ksenox@pupup:~$ cat father.c
#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <sys/types.h>
#include <sys/wait.h>

int main(){
	pid_t pid = fork();
	if (pid < 0){
		perror("–æ—à–∏–±–∫–∞ fork");
		return 1;
	}
	
	if (pid == 0){
		execl("./son", "son", NULL);
		return 1;
	}else{
		printf("—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å: uid = %d, pid = %d, ppid = %d\n", getuid(), getpid(), getppid());
		//system("ps -l > father_processes.txt");
		//wait(NULL);
		sleep(2);		
		system("ps -l > father_processes.txt");
                sleep(9);
		system("ps -l >> father_processes.txt");
		printf("—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É\n");

	}

	return 0;
}
ksenox@pupup:~$ gcc -o father father.c
ksenox@pupup:~$ ./father 
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å: uid = 1000, pid = 3408, ppid = 3028
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å: uid = 1000, pid = 3409, ppid = 3408
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É
ksenox@pupup:~$ cat father_processes.txt 
F S   UID     PID    PPID  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD
0 S  1000    3028    3021  0  80   0 -  2799 do_wai pts/0    00:00:00 bash
0 S  1000    3408    3028  0  80   0 -   670 do_wai pts/0    00:00:00 father
0 S  1000    3409    3408  0  80   0 -   670 hrtime pts/0    00:00:00 son
0 S  1000    3417    3408  0  80   0 -   700 do_wai pts/0    00:00:00 sh
0 R  1000    3418    3417 99  80   0 -  3432 -      pts/0    00:00:00 ps
F S   UID     PID    PPID  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD
0 S  1000    3028    3021  0  80   0 -  2799 do_wai pts/0    00:00:00 bash
0 S  1000    3408    3028  0  80   0 -   670 do_wai pts/0    00:00:00 father
0 Z  1000    3409    3408  0  80   0 -     0 -      pts/0    00:00:00 son
0 S  1000    3423    3408  0  80   0 -   700 do_wai pts/0    00:00:00 sh
0 R  1000    3424    3423  0  80   0 -  3432 -      pts/0    00:00:00 ps

–í —Ç–∞–±–ª–∏—Ü–µ –≤–∏–¥–Ω–æ, —á—Ç–æ —Å–Ω–∞—á–∞–ª–∞ son –±—ã–ª —Å —Ñ–ª–∞–≥–æ–º s, –∞ –ø–æ—Ç–æ–º —Å—Ç–∞–ª —Å —Ñ–ª–∞–≥–æ–º z (zombie). –°–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –ø—Ä–æ—Ü–µ—Å—Å-—Å—ã–Ω —Å—Ç–∞–ª "–∑–æ–º–±–∏" –ø—Ä–æ—Ü–µ—Å—Å–æ–º. 

–°–æ–∑–¥–∞–¥–∏–º –ø—Ä–æ–≥—Ä–∞–º–º—É, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –≤—Å–µ —Ç—Ä–∏ —Å–∏—Ç—É–∞—Ü–∏–∏, –æ–ø–∏—Å–∞–Ω–Ω—ã–µ –≤—ã—à–µ:
ksenox@pupup:~$ nano task_2_4.c
ksenox@pupup:~$ gcc -o task_2_4 task_2_4.c
ksenox@pupup:~$ ./task_2_4
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: ./task_2_4 <–Ω–æ–º–µ—Ä —Å—Ü–µ–Ω–∞—Ä–∏—è (1, 2 –∏–ª–∏ 3)>
ksenox@pupup:~$ ./task_2_4 1
–∞) –ü—Ä–æ—Ü–µ—Å—Å-–æ—Ç–µ—Ü –æ–∂–∏–¥–∞–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞-—Å—ã–Ω–∞
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å: uid = 1000, pid = 6008, ppid = 3028
–ø—Ä–æ—Ü–µ—Å—Å-—Å—ã–Ω: uid = 1000, pid = 6009, ppid = 6008
–ø—Ä–æ—Ü–µ—Å—Å-—Å—ã–Ω –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É
ksenox@pupup:~$ cat scenario_a_processes.txt 
F S   UID     PID    PPID  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD
0 S  1000    3028    3021  0  80   0 -  2832 do_wai pts/0    00:00:00 bash
0 S  1000    6008    3028  0  80   0 -   670 do_wai pts/0    00:00:00 task_2_4
1 S  1000    6009    6008  0  80   0 -   670 hrtime pts/0    00:00:00 task_2_4
0 S  1000    6010    6008  0  80   0 -   700 do_wai pts/0    00:00:00 sh
4 R  1000    6011    6010  0  80   0 -  3466 -      pts/0    00:00:00 ps
F S   UID     PID    PPID  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD
0 S  1000    3028    3021  0  80   0 -  2832 do_wai pts/0    00:00:00 bash
0 S  1000    6008    3028  0  80   0 -   670 do_wai pts/0    00:00:00 task_2_4
0 S  1000    6020    6008  0  80   0 -   700 do_wai pts/0    00:00:00 sh
4 R  1000    6021    6020  0  80   0 -  3466 -      pts/0    00:00:00 ps
ksenox@pupup:~$ ./task_2_4 2
–±) –ü—Ä–æ—Ü–µ—Å—Å-–æ—Ç–µ—Ü –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è, –Ω–µ –æ–∂–∏–¥–∞—è –ø—Ä–æ—Ü–µ—Å—Å–∞-—Å—ã–Ω–∞
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å: uid = 1000, pid = 6081, ppid = 3028
–ø—Ä–æ—Ü–µ—Å—Å-—Å—ã–Ω: uid = 1000, pid = 6082, ppid = 6081
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É
ksenox@pupup:~$ –ø—Ä–æ—Ü–µ—Å—Å-—Å—ã–Ω: –Ω–æ–≤—ã–π ppid = 1763 (–ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ—Ç—Ü–∞)
–ø—Ä–æ—Ü–µ—Å—Å-—Å—ã–Ω –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É

ksenox@pupup:~$ cat scenario_b_processes.txt 
F S   UID     PID    PPID  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD
0 S  1000    3028    3021  0  80   0 -  2832 do_wai pts/0    00:00:00 bash
0 S  1000    6081    3028  0  80   0 -   670 do_wai pts/0    00:00:00 task_2_4
1 S  1000    6082    6081  0  80   0 -   670 hrtime pts/0    00:00:00 task_2_4
0 S  1000    6083    6081  0  80   0 -   700 do_wai pts/0    00:00:00 sh
4 R  1000    6084    6083 99  80   0 -  3466 -      pts/0    00:00:00 ps
ksenox@pupup:~$ ./task_2_4 3
–≤) –ü—Ä–æ—Ü–µ—Å—Å-—Å—ã–Ω —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∑–æ–º–±–∏
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å: uid = 1000, pid = 6133, ppid = 3028
–ø—Ä–æ—Ü–µ—Å—Å-—Å—ã–Ω: uid = 1000, pid = 6134, ppid = 6133
–ø—Ä–æ—Ü–µ—Å—Å-—Å—ã–Ω –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É
ksenox@pupup:~$ cat scenario_c_processes.txt 
F S   UID     PID    PPID  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD
0 S  1000    3028    3021  0  80   0 -  2832 do_wai pts/0    00:00:00 bash
0 S  1000    6133    3028  0  80   0 -   670 do_wai pts/0    00:00:00 task_2_4
1 S  1000    6134    6133  0  80   0 -   670 hrtime pts/0    00:00:00 task_2_4
0 S  1000    6135    6133  0  80   0 -   700 do_wai pts/0    00:00:00 sh
4 R  1000    6136    6135 99  80   0 -  3466 -      pts/0    00:00:00 ps
F S   UID     PID    PPID  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD
0 S  1000    3028    3021  0  80   0 -  2832 do_wai pts/0    00:00:00 bash
0 S  1000    6133    3028  0  80   0 -   670 do_wai pts/0    00:00:00 task_2_4
1 Z  1000    6134    6133  0  80   0 -     0 -      pts/0    00:00:00 task_2_4
0 S  1000    6151    6133  0  80   0 -   700 do_wai pts/0    00:00:00 sh
4 R  1000    6152    6151 99  80   0 -  3466 -      pts/0    00:00:00 ps

3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏ –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º —Å–∏–≥–Ω–∞–ª–æ–≤ (Linux)
3.1. 
ksenox@pupup:~$ date
Sun Mar 16 09:46:46 PM UTC 2025
–°–æ–∑–¥–∞–¥–∏–º –ø—Ä–æ–≥—Ä–∞–º–º—É father_3_1.c, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–¥–∞–µ—Ç —Ç—Ä–∏ –ø–æ—Ç–æ–∫–∞ (son1, son2, son3):
ksenox@pupup:~$ nano father_3_1.c 
ksenox@pupup:~$ nano son1.c
ksenox@pupup:~$ nano son2.c
ksenox@pupup:~$ nano son3.c
ksenox@pupup:~$ cat father_3_1.c
#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <signal.h>

int main(){
  pid_t pid1, pid2, pid3;
  
  if ((pid1 = fork()) == 0){
    execl("./son1", "son1", NULL);
    perror("–æ—à–∏–±–∫–∞ –∑–∞–ø—É—Å–∫–∞ son1");
    exit(1);
  }
  
  if ((pid2 = fork()) == 0){
    execl("./son2", "son2", NULL);
    perror("–æ—à–∏–±–∫–∞ –∑–∞–ø—É—Å–∫–∞ son2");
    exit(1);
  }
  
  if ((pid3 = fork()) == 0){
    execl("./son3", "son3", NULL);
    perror("–æ—à–∏–±–∫–∞ –∑–∞–ø—É—Å–∫–∞ son3");
    exit(1);
  }
  
  sleep(3);
  system("ps -s > test_3_1.txt");
  
  printf("—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–∏–≥–Ω–∞–ª SIGTERM –ø—Ä–æ—Ü–µ—Å—Å—É son1 (%d)\n", pid1);
  kill(pid1, SIGTERM);
  
    printf("—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–∏–≥–Ω–∞–ª SIGTERM –ø—Ä–æ—Ü–µ—Å—Å—É son2 (%d)\n", pid2);
  kill(pid2, SIGTERM);
  
    printf("—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–∏–≥–Ω–∞–ª SIGTERM –ø—Ä–æ—Ü–µ—Å—Å—É son3 (%d)\n", pid3);
  kill(pid3, SIGTERM);
  sleep(3);
  
  system("ps -s >> test_3_1.txt");
  return 0;
}
ksenox@pupup:~$ cat son1.c
#include <stdio.h>
#include <unistd.h>

int main(){
  printf("son1 (pid = %d) –æ–∂–∏–¥–∞–µ—Ç —Å–∏–≥–Ω–∞–ª \n", getpid());
  while(1){
    sleep(1);
  }
  return 0;
}
ksenox@pupup:~$ cat son2.c
#include <stdio.h>
#include <unistd.h>
#include <signal.h>

void ignore_signal(int sig){
  printf("son2 (pid = %d) –ø–æ–ª—É—á–∏–ª SIGTERM, –Ω–æ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –µ–≥–æ\n", getpid());
}

int main(){
  signal(SIGTERM, ignore_signal);
  printf("son2 (pid = %d) –æ–∂–∏–¥–∞–µ—Ç —Å–∏–≥–Ω–∞–ª \n", getpid());
  while(1){
    sleep(1);
  }
  return 0;
}
ksenox@pupup:~$ cat son3.c
#include <stdio.h>
#include <unistd.h>
#include <signal.h>

void handle_signal(int sig){
  printf("son3 (pid = %d) –ø–æ–ª—É—á–∏–ª SIGTERT –∏ –æ–±—Ä–∞–±–æ—Ç–∞–ª –µ–≥–æ\n", getpid());
}

int main(){
  signal(SIGTERM, handle_signal);
  printf("son3 (pid = %d) –æ–∂–∏–¥–∞–µ—Ç —Å–∏–≥–Ω–∞–ª \n", getpid());
  while(1){
    sleep(1);
  }
  return 0;
}
ksenox@pupup:~$ gcc -o father_3_1 father_3_1.c 
ksenox@pupup:~$ gcc -o son1 son1.c 
ksenox@pupup:~$ gcc -o son2 son2.c 
ksenox@pupup:~$ gcc -o son3 son3.c
ksenox@pupup:~$ ./father_3_1 
son1 (pid = 8128) –æ–∂–∏–¥–∞–µ—Ç —Å–∏–≥–Ω–∞–ª 
son2 (pid = 8129) –æ–∂–∏–¥–∞–µ—Ç —Å–∏–≥–Ω–∞–ª 
son3 (pid = 8130) –æ–∂–∏–¥–∞–µ—Ç —Å–∏–≥–Ω–∞–ª 
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–∏–≥–Ω–∞–ª SIGTERM –ø—Ä–æ—Ü–µ—Å—Å—É son1 (8128)
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–∏–≥–Ω–∞–ª SIGTERM –ø—Ä–æ—Ü–µ—Å—Å—É son2 (8129)
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–∏–≥–Ω–∞–ª SIGTERM –ø—Ä–æ—Ü–µ—Å—Å—É son3 (8130)
son3 (pid = 8130) –ø–æ–ª—É—á–∏–ª SIGTERT –∏ –æ–±—Ä–∞–±–æ—Ç–∞–ª –µ–≥–æ
son2 (pid = 8129) –ø–æ–ª—É—á–∏–ª SIGTERM, –Ω–æ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –µ–≥–æ
ksenox@pupup:~$ cat test_3_1.txt 
  UID     PID          PENDING          BLOCKED          IGNORED           CAUGHT STAT TTY        TIME COMMAND
 1000    1851 0000000000000000 0000000000000000 0000000000001000 0000000100004000 Ssl+ tty2       0:00 /usr/libexec/gdm-wayland-session env GNOME_SHELL_SESSION_MODE=ubuntu /usr/bin/gnome-session --session=ubuntu
 1000    1860 0000000000000000 0000000000000000 0000000000001000 0000000100004003 Sl+  tty2       0:00 /usr/libexec/gnome-session-binary --session=ubuntu
 1000    8014 0000000000000000 0000000000010000 0000000000384004 000000004b813efb Ss   pts/2      0:00 bash
 1000    8062 0000000000000000 0000000000000000 0000000000000000 0000000000004000 S    pts/2      0:00 son2
 1000    8063 0000000000000000 0000000000000000 0000000000000000 0000000000004000 S    pts/2      0:00 son3
 1000    8127 0000000000000000 0000000000010000 0000000000000006 0000000000000000 S+   pts/2      0:00 ./father_3_1
 1000    8128 0000000000000000 0000000000000000 0000000000000000 0000000000000000 S+   pts/2      0:00 son1
 1000    8129 0000000000000000 0000000000000000 0000000000000000 0000000000004000 S+   pts/2      0:00 son2
 1000    8130 0000000000000000 0000000000000000 0000000000000000 0000000000004000 S+   pts/2      0:00 son3
 1000    8132 0000000000000000 0000000000000000 0000000000000000 0000000000010002 S+   pts/2      0:00 sh -c -- ps -s > test_3_1.txt
 1000    8133 0000000000000000 0000000000000000 0000000000000000 000000007391fef9 R+   pts/2      0:00 ps -s
  UID     PID          PENDING          BLOCKED          IGNORED           CAUGHT STAT TTY        TIME COMMAND
 1000    1851 0000000000000000 0000000000000000 0000000000001000 0000000100004000 Ssl+ tty2       0:00 /usr/libexec/gdm-wayland-session env GNOME_SHELL_SESSION_MODE=ubuntu /usr/bin/gnome-session --session=ubuntu
 1000    1860 0000000000000000 0000000000000000 0000000000001000 0000000100004003 Sl+  tty2       0:00 /usr/libexec/gnome-session-binary --session=ubuntu
 1000    8014 0000000000000000 0000000000010000 0000000000384004 000000004b813efb Ss   pts/2      0:00 bash
 1000    8062 0000000000000000 0000000000000000 0000000000000000 0000000000004000 S    pts/2      0:00 son2
 1000    8063 0000000000000000 0000000000000000 0000000000000000 0000000000004000 S    pts/2      0:00 son3
 1000    8127 0000000000000000 0000000000010000 0000000000000006 0000000000000000 S+   pts/2      0:00 ./father_3_1
 1000    8128 0000000000004000 0000000000000000 0000000000000000 0000000000000000 Z+   pts/2      0:00 [son1] <defunct>
 1000    8129 0000000000000000 0000000000000000 0000000000000000 0000000000004000 S+   pts/2      0:00 son2
 1000    8130 0000000000000000 0000000000000000 0000000000000000 0000000000004000 S+   pts/2      0:00 son3
 1000    8139 0000000000000000 0000000000000000 0000000000000000 0000000000010002 S+   pts/2      0:00 sh -c -- ps -s >> test_3_1.txt
 1000    8140 0000000000000000 0000000000000000 0000000000000000 000000007391fef9 R+   pts/2      0:00 ps -s
ksenox@pupup:~$ ps -l
F S   UID     PID    PPID  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD
0 S  1000    7759    7752  0  80   0 -  2789 do_wai pts/1    00:00:00 bash
0 S  1000    7775    1763  0  80   0 -   670 hrtime pts/1    00:00:00 son2
0 S  1000    7776    1763  0  80   0 -   670 hrtime pts/1    00:00:00 son3
4 R  1000    7924    7759 99  80   0 -  3466 -      pts/1    00:00:00 ps
–î–∞–Ω–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Å–æ–∑–¥–∞–µ—Ç —Ç—Ä–µ—Ö –ø–æ—Ç–æ–º–∫–æ–≤ (son1, son2, son3), –∂–¥–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è –∏ –ø–æ—Å—ã–ª–∞–µ—Ç –∫–∞–∂–¥–æ–º—É –∏–∑ –Ω–∏—Ö —Å–∏–≥–Ω–∞–ª SIGTERM. –ü—Ä–æ—Ü–µ—Å—Å son1 –Ω–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —Å–∏–≥–Ω–∞–ª, –ø–æ—ç—Ç–æ–º—É –æ–Ω –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ SIGTERM. –ü—Ä–æ—Ü–µ—Å—Å son2 —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è SIGTERM, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ—Å—Ç–æ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç —Å–∏–≥–Ω–∞–ª, –∏ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å. –ü—Ä–æ—Ü–µ—Å—Å son3 —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è SIGTERM, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–≤–æ–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Ç–æ–≥–æ, —á—Ç–æ —Å–∏–≥–Ω–∞–ª –æ–±—Ä–∞–±–æ—Ç–∞–Ω, –∏ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –¥–∞–ª—å—à–µ. –í–∏–¥–∏–º, —á—Ç–æ son1 –≤ —Ç–∞–±–ª–∏—Ü–µ –∏–∑ —Ñ–∞–π–ª–∞ test_3_1.txt —è–≤–ª—è–µ—Ç—Å—è –∑–æ–º–±–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–º, –Ω–æ —Ç–µ–º –Ω–µ –º–µ–Ω–µ–µ –æ–Ω –∑–∞–≤–µ—Ä—à–∏–ª—Å—è, –ø—Ä–æ—Å—Ç–æ —Ä–æ–¥–∏—Ç–µ–ª—å –Ω–µ "–∑–∞–±—Ä–∞–ª" –ø—Ä–æ—Ü–µ—Å—Å (waitpid()). –ù–æ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∑–æ–º–±–∏ —Ñ–∞–π–ª—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è –∏–∑ —Å–∏—Å—Ç–µ–º—ã, –ø–æ—ç—Ç–æ–º—É –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —É—Ç–∏–ª–∏—Ç—ã ps –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ son1 –Ω–µ—Ç.

3.2.
ksenox@pupup:~$ date
Sun Mar 16 10:48:47 PM UTC 2025

–§—É–Ω–∫—Ü–∏—è wait(&status) –æ–∂–∏–¥–∞–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ª—é–±–æ–≥–æ –¥–æ—á–µ—Ä–Ω–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞. –û–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç pid –∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞, –∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é status –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∫–æ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è.
–ö–æ–≥–¥–∞ –¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≤–µ—Ä—à–∏–ª—Å—è, —è–¥—Ä–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–æ–¥–∏—Ç–µ–ª—é —Å–∏–≥–Ω–∞–ª SIGCHLD. –ï—Å–ª–∏ —Ä–æ–¥–∏—Ç–µ–ª—å –æ–∂–∏–¥–∞–µ—Ç wait(), –æ–Ω –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å—Ä–∞–∑—É. –ï—Å–ª–∏ —Ä–æ–¥–∏—Ç–µ–ª—å –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç wait(), –¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∑–æ–º–±–∏. –ï—Å–ª–∏ —Ä–æ–¥–∏—Ç–µ–ª—å –≤—ã–∑–æ–≤–µ—Ç wait(), —Ç–æ –æ–Ω –æ—Å–≤–æ–±–æ–¥–∏—Ç –∑–∞–ø–∏—Å—å –æ –¥–æ—á–µ—Ä–Ω–µ–º –ø—Ä–æ—Ü–µ—Å—Å–µ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã –ø—Ä–æ—Ü–µ—Å—Å–æ–≤.

–ü—Ä–æ—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–µ–º —Å —Ñ—É–Ω–∫—Ü–∏–µ–π waidpid(): –ø—É—Å—Ç—å –æ—Ç–µ—Ü –ø–æ—Ä–æ–∂–¥–∞–µ—Ç 3 —Å—ã–Ω–∞, –±—É–¥–µ—Ç –∂–¥–∞—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ–≥–æ –∏–∑ –Ω–∏—Ö, –∑–∞–ø—É—Å—Ç–∏—Ç ps -l (—á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –ø—Ä–æ—Ü–µ—Å—Å—ã), –∞ –ø–æ—Å–ª–µ –±—É–¥–µ—Ç –∂–¥–∞—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã.
ksenox@pupup:~$ nano father_3_2.c 
ksenox@pupup:~$ cat father_3_2.c
#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <sys/types.h>
#include <sys/wait.h>

int main(){
  pid_t pid1, pid2, pid3;
  
  if ((pid1 = fork()) == 0){
    sleep(8);
    printf("son1 –∑–∞–≤–µ—Ä—à–µ–Ω \n");
    exit(1);
  }
  
  if ((pid2 = fork()) == 0){
    sleep(12);
    printf("son2 –∑–∞–≤–µ—Ä—à–µ–Ω \n");
    exit(2);
  }
  
  if ((pid3 = fork()) == 0){
    sleep(16);
    printf("son3 –∑–∞–≤–µ—Ä—à–µ–Ω \n");
    exit(3);
  }
  
  printf("–æ–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ son1 (pid = %d)\n", pid1);
  int status;
  waitpid(pid1, &status, 0);
  printf("son1 –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —Å –∫–æ–¥–æ–º %d\n", WEXITSTATUS(status));
  
  system("ps -l > test_3_2.txt");
  printf("–æ–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤\n");
  while (wait(NULL) > 0);
  
  printf("–≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –∑–∞–≤–µ—Ä—à–µ–Ω—ã\n");
  return 0;
}
ksenox@pupup:~$ gcc -o father_3_2 father_3_2.c 
ksenox@pupup:~$ ./father_3_2 
–æ–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ son1 (pid = 12193)
son1 –∑–∞–≤–µ—Ä—à–µ–Ω 
son1 –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —Å –∫–æ–¥–æ–º 1
–æ–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
son2 –∑–∞–≤–µ—Ä—à–µ–Ω 
son3 –∑–∞–≤–µ—Ä—à–µ–Ω 
–≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –∑–∞–≤–µ—Ä—à–µ–Ω—ã
ksenox@pupup:~$ cat test_3_2.txt 
F S   UID     PID    PPID  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD
0 S  1000   12048   12041  0  80   0 -  2821 do_wai pts/3    00:00:00 bash
0 S  1000   12192   12048  0  80   0 -   670 do_wai pts/3    00:00:00 father_3_2
1 S  1000   12194   12192  0  80   0 -   637 hrtime pts/3    00:00:00 father_3_2
1 S  1000   12195   12192  0  80   0 -   637 hrtime pts/3    00:00:00 father_3_2
0 S  1000   12202   12192  0  80   0 -   700 do_wai pts/3    00:00:00 sh
4 R  1000   12203   12202 99  80   0 -  3498 -      pts/3    00:00:00 ps
ksenox@pupup:~$ ps -l
F S   UID     PID    PPID  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD
0 S  1000   12048   12041  0  80   0 -  2821 do_wai pts/3    00:00:00 bash
4 R  1000   12227   12048 99  80   0 -  3465 -      pts/3    00:00:00 ps
–í–∏–¥–∏–º, —á—Ç–æ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª –ø–æ–∫–∞–∑–∞–ª, —á—Ç–æ son2 –∏ son3 –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Å—Ç–∞—Ç—É—Å–µ s (sleep), –∞ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ ps -l –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º—ã father_3_2
–ü–æ–ª—É—á–∞–µ—Ç—Å—è, —á—Ç–æ waitpid() –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–æ–¥–∏—Ç–µ–ª—é –≤—ã–±—Ä–∞—Ç—å, –∫–æ–≥–æ –∏–∑ –¥–æ—á–µ—Ä–Ω–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –∂–¥–∞—Ç—å, SIGCHLD –ø—Ä–æ–±—É–∂–¥–∞–µ—Ç –¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª—è wait() –∏ —Ç–æ, —á—Ç–æ —Å wait() –¥–æ—á–µ—Ä–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –Ω–µ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –∑–æ–º–±–∏.

4. –ú–Ω–æ–≥–æ–Ω–∏—Ç–µ–≤–æ–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
4.1.
ksenox@pupup:~$ date
Sun Mar 16 11:35:35 PM UTC 2025
–ü–æ–¥–≥–æ—Ç–æ–≤–∏–º –ø—Ä–æ–≥—Ä–∞–º–º—É c pthread_create() –∏ clone(), –∫–æ—Ç–æ—Ä–∞—è —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–∏—Ç–µ–π(–ø–æ—Ç–æ–∫–æ–≤):
ksenox@pupup:~$ nano test_4_1_pthread_clone.c
ksenox@pupup:~$ cat test_4_1_pthread_clone.c
#define _GNU_SOURCE
#include <stdio.h>
#include <stdlib.h>
#include <pthread.h>
#include <sched.h>
#include <unistd.h>
#include <sys/types.h>
#include <sys/wait.h>
#include <sys/syscall.h>

#define STACK_SIZE 1024*1024

void* pthread_func(void* arg){
  int id = *(int*) arg;
  printf("pthread: –ø–æ—Ç–æ–∫ %d –∑–∞–ø—É—â–µ–Ω, tid = %ld, pid = %d\n", id, syscall(SYS_gettid), getpid());
  return NULL;
}

int clone_func(void* arg){
  int id = *(int*) arg;
  printf("clone: –ø–æ—Ç–æ–∫ %d –∑–∞–ø—É—â–µ–Ω, tid = %ld, pid = %d\n", id, syscall(SYS_gettid), getpid());
  return 0;
}

int main(){
  const int NUM_THREADS = 3;
  pthread_t threads[NUM_THREADS];
  int thread_args[NUM_THREADS];
  
  for (int i=0; i < NUM_THREADS; i++){
    thread_args[i] = i + 1;
    if (pthread_create(&threads[i], NULL, pthread_func, &thread_args[i]) != 0){
      perror("–æ—à–∏–±–∫–∞ pthread_create");
      exit(EXIT_FAILURE);
    }
  }
  
  for (int i=0; i < NUM_THREADS; i++){
    pthread_join(threads[i], NULL);
  }
  
  for (int i=0; i < NUM_THREADS; i++){
    void *stack = malloc(STACK_SIZE);
    if (!stack){
      perror("–æ—à–∏–±–∫–∞ stack");
      exit(EXIT_FAILURE);
    }
    
    void *stack_top = stack + STACK_SIZE;
    stack_top = (void *) (((long)stack_top) & ~0xFFF);
    thread_args[i] = i + 1;
    pid_t pid = clone(clone_func, stack_top, CLONE_VM | CLONE_SIGHAND | CLONE_THREAD | CLONE_FILES, &thread_args[i]);
    
    if (pid == -1){
      perror("–æ—à–∏–±–∫–∞ clone");
      free(stack);
      exit(EXIT_FAILURE);
    }
    usleep(100000);
    free(stack);

  }
  
  printf("–≥–ª–∞–≤–Ω—ã–π –ø–æ—Ç–æ–∫ –∑–∞–≤–µ—Ä—à–µ–Ω\n");
  return 0;
}

ksenox@pupup:~$ gcc -o test_4_1_pthread_clone test_4_1_pthread_clone.c
ksenox@pupup:~$ ./test_4_1_pthread_clone 
pthread: –ø–æ—Ç–æ–∫ 1 –∑–∞–ø—É—â–µ–Ω, tid = 3238, pid = 3237
pthread: –ø–æ—Ç–æ–∫ 3 –∑–∞–ø—É—â–µ–Ω, tid = 3240, pid = 3237
pthread: –ø–æ—Ç–æ–∫ 2 –∑–∞–ø—É—â–µ–Ω, tid = 3239, pid = 3237
clone: –ø–æ—Ç–æ–∫ 1 –∑–∞–ø—É—â–µ–Ω, tid = 3241, pid = 3237
clone: –ø–æ—Ç–æ–∫ 2 –∑–∞–ø—É—â–µ–Ω, tid = 3242, pid = 3237
clone: –ø–æ—Ç–æ–∫ 3 –∑–∞–ø—É—â–µ–Ω, tid = 3243, pid = 3237
–≥–ª–∞–≤–Ω—ã–π –ø–æ—Ç–æ–∫ –∑–∞–≤–µ—Ä—à–µ–Ω
–î–∞–Ω–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Å–æ–∑–¥–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ç–æ–∫–æ–≤ —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–π (pthread_create() –∏ clone()). pthread_create() –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ POSIX threads, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π API (–ø—Ä–æ—â–µ –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏). clone() - –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π —Å–∏—Å—Ç–µ–º–Ω—ã–π –≤—ã–∑–æ–≤ –≤ Linux (–±–æ–ª–µ–µ –≥–∏–±–∫–∏–π, –Ω–æ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–π –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏).

4.2.
ksenox@pupup:~$  date
Thu Mar 20 02:43:50 PM UTC 2025

–î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞–Ω–∞–ª–∏–∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ—Ç–æ–∫–æ–≤ (–∏—Ö –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–æ –≤—Ä–µ–º–µ–Ω–∏, –Ω–∞—Å–ª–µ–¥—É–µ–º—ã–µ –æ—Ç –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã) –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É, –Ω–∞–ø–∏—Å–∞–Ω–Ω—É—é –≤ –ø—É–Ω–∫—Ç–µ 4.1. –ü—Ä–æ–¥—É–±–ª–∏—Ä—É—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≥—Ä–∞–º–º—ã:
ksenox@pupup:~$ ./test_4_1_pthread_clone 
pthread: –ø–æ—Ç–æ–∫ 1 –∑–∞–ø—É—â–µ–Ω, tid = 3238, pid = 3237
pthread: –ø–æ—Ç–æ–∫ 3 –∑–∞–ø—É—â–µ–Ω, tid = 3240, pid = 3237
pthread: –ø–æ—Ç–æ–∫ 2 –∑–∞–ø—É—â–µ–Ω, tid = 3239, pid = 3237
clone: –ø–æ—Ç–æ–∫ 1 –∑–∞–ø—É—â–µ–Ω, tid = 3241, pid = 3237
clone: –ø–æ—Ç–æ–∫ 2 –∑–∞–ø—É—â–µ–Ω, tid = 3242, pid = 3237
clone: –ø–æ—Ç–æ–∫ 3 –∑–∞–ø—É—â–µ–Ω, tid = 3243, pid = 3237
–≥–ª–∞–≤–Ω—ã–π –ø–æ—Ç–æ–∫ –∑–∞–≤–µ—Ä—à–µ–Ω
1. –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è - –∫–∞–∂–¥—ã–π –ø–æ—Ç–æ–∫ –∏–º–µ–µ—Ç —Å–≤–æ–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (tid).
2. –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–æ –≤—Ä–µ–º–µ–Ω–∏ - –∏–∑–º–µ–Ω–∏–º –ø—Ä–æ–≥—Ä–∞–º–º—É —Ç–∞–∫, —á—Ç–æ–±—ã –∑–∞—Å–µ—á—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–æ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ—Ç–æ–∫–∞:
ksenox@pupup:~$ cat test_4_1_pthread_clone.c
#define _GNU_SOURCE
#include <stdio.h>
#include <stdlib.h>
#include <pthread.h>
#include <sched.h>
#include <unistd.h>
#include <sys/types.h>
#include <sys/wait.h>
#include <sys/syscall.h>
#include <time.h>

#define STACK_SIZE 1024*1024

void* pthread_func(void* arg){
  int id = *(int*) arg;
  struct timespec start, end;
  clock_gettime(CLOCK_MONOTONIC, &start);
  
  printf("pthread: –ø–æ—Ç–æ–∫ %d –∑–∞–ø—É—â–µ–Ω, tid = %ld, pid = %d\n", id, syscall(SYS_gettid), getpid());
  
  clock_gettime(CLOCK_MONOTONIC, &end);
  double duration = (end.tv_sec - start.tv_sec) + (end.tv_nsec - start.tv_nsec) / 1e9;
  
  printf("pthread: –ø–æ—Ç–æ–∫ %d –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É –∑–∞ %.6f —Å–µ–∫\n", id, duration);
  return NULL;
}

int clone_func(void* arg){
  int id = *(int*) arg;
  struct timespec start, end;
  clock_gettime(CLOCK_MONOTONIC, &start);
  
  printf("clone: –ø–æ—Ç–æ–∫ %d –∑–∞–ø—É—â–µ–Ω, tid = %ld, pid = %d\n", id, syscall(SYS_gettid), getpid());
  
  clock_gettime(CLOCK_MONOTONIC, &end);
  double duration = (end.tv_sec - start.tv_sec) + (end.tv_nsec - start.tv_nsec) / 1e9;
  
  printf("clone: –ø–æ—Ç–æ–∫ %d –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É –∑–∞ %.6f —Å–µ–∫\n", id, duration);
  return 0;
}

int main(){
  const int NUM_THREADS = 3;
  pthread_t threads[NUM_THREADS];
  int thread_args[NUM_THREADS];
  
  for (int i=0; i < NUM_THREADS; i++){
    thread_args[i] = i + 1;
    if (pthread_create(&threads[i], NULL, pthread_func, &thread_args[i]) != 0){
      perror("–æ—à–∏–±–∫–∞ pthread_create");
      exit(EXIT_FAILURE);
    }
  }
  
  for (int i=0; i < NUM_THREADS; i++){
    pthread_join(threads[i], NULL);
    }
  
  for (int i=0; i < NUM_THREADS; i++){
    void *stack = malloc(STACK_SIZE);
    if (!stack){
      perror("–æ—à–∏–±–∫–∞ stack");
      exit(EXIT_FAILURE);
    }
    
    void *stack_top = stack + STACK_SIZE;
    stack_top = (void *) (((long)stack_top) & ~0xFFF);
    thread_args[i] = i + 1;
    pid_t pid = clone(clone_func, stack_top, CLONE_VM | CLONE_SIGHAND | CLONE_THREAD | CLONE_FILES, &thread_args[i]);
    
    if (pid == -1){
      perror("–æ—à–∏–±–∫–∞ clone");
      free(stack);
      exit(EXIT_FAILURE);
    }
    usleep(100000);
    free(stack);

  }
  
  printf("–≥–ª–∞–≤–Ω—ã–π –ø–æ—Ç–æ–∫ –∑–∞–≤–µ—Ä—à–µ–Ω\n");
  return 0;
}

ksenox@pupup:~$ gcc -o test_4_1_pthread_clone test_4_1_pthread_clone.c
ksenox@pupup:~$ ./test_4_1_pthread_clone 
pthread: –ø–æ—Ç–æ–∫ 2 –∑–∞–ø—É—â–µ–Ω, tid = 5497, pid = 5495
pthread: –ø–æ—Ç–æ–∫ 2 –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É –∑–∞ 0.000095 —Å–µ–∫
pthread: –ø–æ—Ç–æ–∫ 1 –∑–∞–ø—É—â–µ–Ω, tid = 5496, pid = 5495
pthread: –ø–æ—Ç–æ–∫ 1 –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É –∑–∞ 0.000014 —Å–µ–∫
pthread: –ø–æ—Ç–æ–∫ 3 –∑–∞–ø—É—â–µ–Ω, tid = 5498, pid = 5495
pthread: –ø–æ—Ç–æ–∫ 3 –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É –∑–∞ 0.000020 —Å–µ–∫
clone: –ø–æ—Ç–æ–∫ 1 –∑–∞–ø—É—â–µ–Ω, tid = 5499, pid = 5495
clone: –ø–æ—Ç–æ–∫ 1 –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É –∑–∞ 0.000014 —Å–µ–∫
clone: –ø–æ—Ç–æ–∫ 2 –∑–∞–ø—É—â–µ–Ω, tid = 5500, pid = 5495
clone: –ø–æ—Ç–æ–∫ 2 –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É –∑–∞ 0.000125 —Å–µ–∫
clone: –ø–æ—Ç–æ–∫ 3 –∑–∞–ø—É—â–µ–Ω, tid = 5501, pid = 5495
clone: –ø–æ—Ç–æ–∫ 3 –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É –∑–∞ 0.000110 —Å–µ–∫
–≥–ª–∞–≤–Ω—ã–π –ø–æ—Ç–æ–∫ –∑–∞–≤–µ—Ä—à–µ–Ω

–ò—Å—Ö–æ–¥—è –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø–æ–¥–≤–µ–¥–µ–º –Ω–µ–±–æ–ª—å—à–∏–µ –≤—ã–≤–æ–¥—ã:
1) pthread-–ø–æ—Ç–æ–∫–∏ –∑–∞–ø—É—Å–∫–∞–ª–∏—Å—å –Ω–µ –≤ –ø–æ—Ä—è–¥–∫–µ "–æ—á–µ—Ä–µ–¥–∏" (–æ—Ç 1 –¥–æ 3), –ø–æ—Ç–æ–º—É —á—Ç–æ –û–° —É–ø—Ä–∞–≤–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è–º–∏ –ø–æ—Ç–æ–∫–æ–≤ —Å –ø–æ–º–æ—â—å—é –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞, –∫–æ—Ç–æ—Ä—ã–π –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –ø–æ—Ç–æ–∫–æ–≤ –∏ —Ç–µ–∫—É—â—É—é –∑–∞–≥—Ä—É–∑–∫—É —Å–∏—Å—Ç–µ–º—ã. –ü–æ—Ç–æ–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –ø–æ—á—Ç–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, –Ω–æ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–ø—É—Å–∫–∞–µ—Ç –∏—Ö –≤ –ø–æ—Ä—è–¥–µ —Å–≤–æ–µ–π –ª–æ–≥–∏–∫–∏.
2) clone-–ø–æ—Ç–æ–∫–∏ –±—ã–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –±—ã—Å—Ç—Ä–µ–µ –≤–æ–∑–º–æ–∂–Ω–æ –ø–æ—Ç–æ–º—É, —á—Ç–æ clone - –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π —Å–∏—Å—Ç–µ–º–Ω—ã–π –≤—ã–∑–æ–≤.

3. –ù–∞—Å–ª–µ–¥—É–µ–º—ã–µ –æ—Ç –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã - –ø–æ—Ç–æ–∫–∏ –Ω–∞—Å–ª–µ–¥—É—é—Ç –æ—Ç –ø—Ä–æ—Ü–µ—Å—Å–∞ pid, –æ—Ç–∫—Ä—ã—Ç—ã–µ —Ñ–∞–π–ª–æ–≤—ã–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ —Ç–µ–∫—É—â–∏–π —Ä–∞–±–æ—á–∏–π –∫–∞—Ç–∞–ª–æ–≥.
–ü—Ä–æ–≤–µ—Ä–∏–º —ç—Ç–æ —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã ps (–Ω–µ –∑–∞–±—É–¥–µ–º –ø—Ä–æ–ø–∏—Å–∞—Ç—å –∏–º–∏—Ç–∞—Ü–∏—é –¥–ª—è —Ä–∞–±–æ—Ç—ã –ø–æ—Ç–æ–∫–æ–≤). –í –æ–¥–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –ø—Ä–æ–ø–∏—à–µ–º:
ksenox@pupup:~$ ./test_4_1_pthread_clone 
pthread: –ø–æ—Ç–æ–∫ 3 –∑–∞–ø—É—â–µ–Ω, tid = 6381, pid = 6378
pthread: –ø–æ—Ç–æ–∫ 2 –∑–∞–ø—É—â–µ–Ω, tid = 6380, pid = 6378
pthread: –ø–æ—Ç–æ–∫ 1 –∑–∞–ø—É—â–µ–Ω, tid = 6379, pid = 6378
pthread: –ø–æ—Ç–æ–∫ 3 –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É –∑–∞ 50.000513 —Å–µ–∫
pthread: –ø–æ—Ç–æ–∫ 1 –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É –∑–∞ 50.000926 —Å–µ–∫
pthread: –ø–æ—Ç–æ–∫ 2 –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É –∑–∞ 50.001060 —Å–µ–∫
clone: –ø–æ—Ç–æ–∫ 1 –∑–∞–ø—É—â–µ–Ω, tid = 6411, pid = 6378
clone: –ø–æ—Ç–æ–∫ 2 –∑–∞–ø—É—â–µ–Ω, tid = 6417, pid = 6378
clone: –ø–æ—Ç–æ–∫ 3 –∑–∞–ø—É—â–µ–Ω, tid = 6426, pid = 6378
–≥–ª–∞–≤–Ω—ã–π –ø–æ—Ç–æ–∫ –∑–∞–≤–µ—Ä—à–µ–Ω

–≤ –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –ø—Ä–æ–ø–∏—à–µ–º ps:
ksenox@pupup:~$ ps -T -p 6378
    PID    SPID TTY          TIME CMD
   6378    6378 pts/0    00:00:00 test_4_1_pthrea
   6378    6379 pts/0    00:00:00 test_4_1_pthrea
   6378    6380 pts/0    00:00:00 test_4_1_pthrea
   6378    6381 pts/0    00:00:00 test_4_1_pthrea
ksenox@pupup:~$ ps -T -p 6378
    PID    SPID TTY          TIME CMD
   6378    6378 pts/0    00:00:00 test_4_1_pthrea
   6378    6411 pts/0    00:00:00 test_4_1_pthrea
   6378    6417 pts/0    00:00:00 test_4_1_pthrea
   6378    6426 pts/0    00:00:00 test_4_1_pthrea
–≥–¥–µ pid - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ—Ü–µ—Å—Å–∞, spid(tid) - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –ø–æ—Ç–æ–∫–∞, cmd - –∫–æ–º–∞–Ω–¥–∞, –≤—ã–ø–æ–ª–Ω—è–µ–º–∞—è –ø–æ—Ç–æ–∫–æ–º.

4.3. 
ksenox@pupup:~$  date
Thu Mar 20 03:43:50 PM UTC 2025

–ü—Ä–æ–≤–µ–¥–µ–º —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã –Ω–∞–¥ –ø–æ—Ç–æ–∫–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∫–∞–∂—É—Ç, –∫–∞–∫–∏–µ —Ä–µ—Å—É—Ä—Å—ã —è–≤–ª—è—é—Ç—Å—è –æ–±—â–∏–º–∏ –¥–ª—è –≤—Å–µ—Ö –ø–æ—Ç–æ–∫–æ–≤, –∞ –∫–∞–∫–∏–µ - —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ—Ç–æ–∫–∞. –°–æ–∑–¥–∞–¥–∏–º –¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º—É:
ksenox@pupup:~$ nano resource_flow_analysis_4_3.c
ksenox@pupup:~$ cat resource_flow_analysis_4_3.c
#define _GNU_SOURCE
#include <stdio.h>
#include <stdlib.h>
#include <pthread.h>
#include <unistd.h>
#include <sys/syscall.h>
#include <fcntl.h>
#include <string.h>

int shared_value = 0; // –≥–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è
pthread_mutex_t mutex = PTHREAD_MUTEX_INITIALIZER;

void *thread_func(void *arg){
  int thread_num = *(int *)arg;
  
  int local_var = thread_num * 10; // —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (—Å—Ç–µ–∫)
  printf("–ø–æ—Ç–æ–∫ %d: –ª–æ–∫–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è = %d (–∞–¥—Ä–µ—Å %p)\n", thread_num, local_var, (void *)&local_var);
  
  pthread_mutex_lock(&mutex); // —Ä–∞–∑–¥–µ–ª—è–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ (–≥–ª–æ–±. –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è)
  shared_value += 1;
  printf("–ø–æ—Ç–æ–∫ %d: –≥–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è = %d\n", thread_num, shared_value);
  pthread_mutex_unlock(&mutex);
  
  int fd = open("lb2_test43.txt", O_WRONLY | O_APPEND); // —Ä–∞–∑–¥–µ–ª—è–µ–º—ã–µ —Ñ–∞–π–ª–æ–≤—ã–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã
  if (fd == -1){
    perror("open");
    return NULL;
  }
  dprintf(fd, "–ø–æ—Ç–æ–∫ %d –∑–∞–ø–∏—Å–∞–ª –¥–∞–Ω–Ω—ã–µ\n", thread_num);
  close(fd);
  
  char* env_var = getenv("MY_VAR");// —Ä–∞–∑–¥–µ–ª—è–µ–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
  if (env_var){
    printf("–ø–æ—Ç–æ–∫ %d: –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è MY_VAR = %s\n", thread_num, env_var);
  } else{
    printf("–ø–æ—Ç–æ–∫ %d: –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è MY_VAR –Ω–µ –Ω–∞–π–¥–µ–Ω–∞\n", thread_num);
  }
  
  printf("–ø–æ—Ç–æ–∫ %d: tid = %ld, pid = %d\n", thread_num, syscall(SYS_gettid), getpid());
  return 0;
}

int main(){
  const int NUM_THREADS = 3;
  pthread_t threads[NUM_THREADS];
  int thread_args[NUM_THREADS];
  
  setenv("MY_VAR", "Hello!", 1);
  
  int fd = open("lb2_test43.txt", O_WRONLY | O_CREAT | O_TRUNC, 0644);
  if (fd == -1){
    perror("–æ—à–∏–±–∫–∞ open");
    exit(EXIT_FAILURE);
  }
  close(fd);
  
  for (int i=0; i < NUM_THREADS; i++){
    thread_args[i] = i + 1;
    if (pthread_create(&threads[i], NULL, thread_func, &thread_args[i]) != 0){
      perror("–æ—à–∏–±–∫–∞ pthread_create");
      exit(EXIT_FAILURE);
    }
  }
  
  for (int i=0; i < NUM_THREADS; i++){
    pthread_join(threads[i], NULL);
  }
  
  system("cat lb2_test43.txt");
  return 0;
}

ksenox@pupup:~$ gcc -o resource_flow_analysis_4_3 resource_flow_analysis_4_3.c
ksenox@pupup:~$ ./resource_flow_analysis_4_3 
–ø–æ—Ç–æ–∫ 2: –ª–æ–∫–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è = 20 (–∞–¥—Ä–µ—Å 0x715151bfde94)
–ø–æ—Ç–æ–∫ 2: –≥–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è = 1
–ø–æ—Ç–æ–∫ 3: –ª–æ–∫–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è = 30 (–∞–¥—Ä–µ—Å 0x7151513fce94)
–ø–æ—Ç–æ–∫ 3: –≥–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è = 2
–ø–æ—Ç–æ–∫ 1: –ª–æ–∫–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è = 10 (–∞–¥—Ä–µ—Å 0x7151523fee94)
–ø–æ—Ç–æ–∫ 1: –≥–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è = 3
–ø–æ—Ç–æ–∫ 1: –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è MY_VAR = Hello!
–ø–æ—Ç–æ–∫ 1: tid = 9061, pid = 9060
–ø–æ—Ç–æ–∫ 3: –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è MY_VAR = Hello!
–ø–æ—Ç–æ–∫ 3: tid = 9063, pid = 9060
–ø–æ—Ç–æ–∫ 2: –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è MY_VAR = Hello!
–ø–æ—Ç–æ–∫ 2: tid = 9062, pid = 9060
–ø–æ—Ç–æ–∫ 2 –∑–∞–ø–∏—Å–∞–ª –¥–∞–Ω–Ω—ã–µ
–ø–æ—Ç–æ–∫ 3 –∑–∞–ø–∏—Å–∞–ª –¥–∞–Ω–Ω—ã–µ
–ø–æ—Ç–æ–∫ 1 –∑–∞–ø–∏—Å–∞–ª –¥–∞–Ω–Ω—ã–µ

–î–∞–Ω–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–∑–¥–µ–ª—è–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ (–≥–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è shared_value, —Ñ–∞–π–ª–æ–≤—ã–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã(–∑–∞–ø–∏—Å—å –≤ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —Ñ–∞–π–ª), –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è), —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ(—Å—Ç–µ–∫ –∫–∞–∂–¥–æ–≥–æ –ø–æ—Ç–æ–∫–∞), –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –ø–æ—Ç–æ–∫–æ–≤ tid). –î–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –±—ã–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω mutex(–º–µ—Ö–∞–Ω–∏–∑–º —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –≤ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∞—Ö –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –æ–±—â–∏–º —Ä–µ—Å—É—Ä—Å–∞–º). –ü–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –≤–∏–¥–Ω–æ:
1) –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ—Ç–æ–∫–∞.
2) –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–±—â–∏–µ –¥–ª—è –≤—Å–µ—Ö –ø–æ—Ç–æ–∫–æ–≤ (—Ç.–∫. –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è).
3) –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –æ–±—â–∏–µ –¥–ª—è –≤—Å–µ—Ö –ø–æ—Ç–æ–∫–æ–≤.
4) —É –∫–∞–∂–¥–æ–≥–æ –ø–æ—Ç–æ–∫–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π tid, –Ω–æ –æ–±—â–∏–π pid (—Ç.–∫. –≤—Å–µ –ø–æ—Ç–æ–∫–∏ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç –æ–¥–Ω–æ–º—É –ø—Ä–æ—Ü–µ—Å—Å—É).
5) —Ñ–∞–π–ª–æ–≤—ã–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã –æ–±—â–∏–µ –¥–ª—è –≤—Å–µ—Ö –ø–æ—Ç–æ–∫–æ–≤.

4.4. 
ksenox@pupup:~$  date
Thu Mar 20 07:43:50 PM UTC 2025

–°–Ω–æ–≤–∞ –≤–æ—Å–ø–æ–ª—å–∑—É–µ–º—Å—è –ø—Ä–æ–≥—Ä–∞–º–º–æ–π, –Ω–∞–ø–∏—Å–∞–Ω–Ω–æ–π –¥–ª—è –∑–∞–¥–∞–Ω–∏—è 4.1 –∏ –ø–æ–ø—Ä–æ–±—É–µ–º —á–µ—Ä–µ–∑ –¥—Ä—É–≥–æ–π —Ç–µ—Ä–º–∏–Ω–∞–ª —É–¥–∞–ª–∏—Ç—å –æ–¥–∏–Ω –∏–∑ –ø–æ—Ç–æ–∫–æ–≤. –í –ø–µ—Ä–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∑–∞–ø—É—Å—Ç–∏–º –ø—Ä–æ–≥—Ä–∞–º–º—É:
ksenox@pupup:~$ ./test_4_1_pthread_clone 
pthread: –ø–æ—Ç–æ–∫ 1 –∑–∞–ø—É—â–µ–Ω, tid = 9779, pid = 9778
pthread: –ø–æ—Ç–æ–∫ 2 –∑–∞–ø—É—â–µ–Ω, tid = 9780, pid = 9778
pthread: –ø–æ—Ç–æ–∫ 3 –∑–∞–ø—É—â–µ–Ω, tid = 9781, pid = 9778

–í–æ –≤—Ç–æ—Ä–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∑–∞–ø—É—Å—Ç–∏–º kill:
ksenox@pupup:~$ ps -T -p 9772
    PID    SPID TTY          TIME CMD
   9772    9772 pts/0    00:00:00 test_4_1_pthrea
   9772    9773 pts/0    00:00:00 test_4_1_pthrea
   9772    9774 pts/0    00:00:00 test_4_1_pthrea
   9772    9775 pts/0    00:00:00 test_4_1_pthrea
ksenox@pupup:~$ kill -9 9780
ksenox@pupup:~$ ps -T -p 9772
    PID    SPID TTY          TIME CMD

–í –ø–µ—Ä–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:
ksenox@pupup:~$ ./test_4_1_pthread_clone 
pthread: –ø–æ—Ç–æ–∫ 1 –∑–∞–ø—É—â–µ–Ω, tid = 9779, pid = 9778
pthread: –ø–æ—Ç–æ–∫ 2 –∑–∞–ø—É—â–µ–Ω, tid = 9780, pid = 9778
pthread: –ø–æ—Ç–æ–∫ 3 –∑–∞–ø—É—â–µ–Ω, tid = 9781, pid = 9778
–£–±–∏—Ç–æ

–ü–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è –ø–æ—Ç–æ–∫–∞ —Å –ø–æ–º–æ—â—å—é kill –ø—Ä–æ–≥—Ä–∞–º–º–∞ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å –¥–∞–∂–µ –Ω–µ —Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ –±—ã–ª–∏ –¥—Ä—É–≥–∏–µ –ø–æ—Ç–æ–∫–∏. –í Linux kill –Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç —Å–∏–≥–Ω–∞–ª –≤–ª–∞–¥–µ–ª—å—Ü—É –ø–æ—Ç–æ–∫–∞ (–ø—Ä–æ—Ü–µ—Å—Å—É), –ø–æ—ç—Ç–æ–º—É –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—é –≤—Å–µ—Ö. 

5. –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
5.1.
ksenox@pupup:~$ date
Fri Mar 21 08:40:49 PM UTC 2025

–£–∑–Ω–∞–µ–º –ø–æ–ª–∏—Ç–∏–∫—É –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –¥–ª—è –ø—Ä–æ—Ü–µ—Å—Å–∞ bash:
ksenox@pupup:~$ chrt -p $(pgrep bash)
pid 3485's current scheduling policy: SCHED_OTHER
pid 3485's current scheduling priority: 0
–ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ—á–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–ª–∏—Ç–∏–∫—É –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è - SCHED_OTHER(–∫–∞–∂–¥—ã–π –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–ª—É—á–∞–µ—Ç —á–∞—Å—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –∏ —É–ø–∏—Ä–∞–µ—Ç—Å—è –Ω–∞ —Ç–æ, —á—Ç–æ–±—ã "—Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ" —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω–æ–µ –≤—Ä–µ–º—è(CFS)).
–í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ—á–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç - 0.

–î–∞–ª–µ–µ –ø—Ä–æ–≤–µ—Ä–∏–º —Ç–∞–±–ª–∏—Ü—É –ø—Ä–æ—Ü–µ—Å—Å–æ–≤:
ksenox@pupup:~$ ps -eo pid,comm,cls,pri
    PID COMMAND         CLS PRI
      1 systemd          TS  19
      2 kthreadd         TS  19
      3 pool_workqueue_  TS  19
      4 kworker/R-rcu_g  TS  39
      5 kworker/R-sync_  TS  39
      6 kworker/R-slub_  TS  39
      7 kworker/R-netns  TS  39
      9 kworker/0:1-eve  TS  19
     10 kworker/0:0H-ev  TS  39
     12 kworker/R-mm_pe  TS  39
     13 rcu_tasks_kthre  TS  19
     14 rcu_tasks_rude_  TS  19
     15 rcu_tasks_trace  TS  19
     16 ksoftirqd/0      TS  19
     17 rcu_preempt      TS  19
     18 rcu_exp_par_gp_  TS  19
     19 rcu_exp_gp_kthr  TS  19
     20 migration/0      FF 139
     21 idle_inject/0    FF  90
     22 cpuhp/0          TS  19
     23 cpuhp/1          TS  19
     24 idle_inject/1    FF  90
     25 migration/1      FF 139
     26 ksoftirqd/1      TS  19
     28 kworker/1:0H-ev  TS  39
     29 cpuhp/2          TS  19
     30 idle_inject/2    FF  90
     31 migration/2      FF 139
     32 ksoftirqd/2      TS  19
     34 kworker/2:0H-ev  TS  39
     35 cpuhp/3          TS  19
     36 idle_inject/3    FF  90
     37 migration/3      FF 139
     38 ksoftirqd/3      TS  19
     41 cpuhp/4          TS  19
     42 idle_inject/4    FF  90
     43 migration/4      FF 139
     44 ksoftirqd/4      TS  19
     45 kworker/4:0-mm_  TS  19
     46 kworker/4:0H-ev  TS  39
     47 kdevtmpfs        TS  19
     48 kworker/R-inet_  TS  39
     49 kworker/u20:1-e  TS  19
     50 kauditd          TS  19
     51 khungtaskd       TS  19
     52 oom_reaper       TS  19
     54 kworker/R-write  TS  39
     55 kcompactd0       TS  19
     56 ksmd             TS  14
     57 khugepaged       TS   0
     58 kworker/R-kinte  TS  39
     59 kworker/R-kbloc  TS  39
     60 kworker/R-blkcg  TS  39
     61 irq/9-acpi       FF  90
     63 kworker/3:1-mm_  TS  19
     65 kworker/R-tpm_d  TS  39
     66 kworker/R-ata_s  TS  39
     67 kworker/R-md     TS  39
     68 kworker/R-md_bi  TS  39
     69 kworker/R-edac-  TS  39
     70 kworker/R-devfr  TS  39
     71 watchdogd        FF  90
     73 kworker/0:1H-kb  TS  39
     74 kswapd0          TS  19
     75 ecryptfs-kthrea  TS  19
     76 kworker/R-kthro  TS  39
     77 kworker/R-acpi_  TS  39
     78 scsi_eh_0        TS  19
     79 kworker/R-scsi_  TS  39
     80 scsi_eh_1        TS  19
     81 kworker/R-scsi_  TS  39
     84 kworker/R-mld    TS  39
     85 kworker/R-ipv6_  TS  39
     92 kworker/R-kstrp  TS  39
     94 kworker/u21:0-t  TS  39
    107 kworker/R-charg  TS  39
    130 kworker/1:1H-kb  TS  39
    134 kworker/4:1H-kb  TS  39
    162 kworker/3:1H-kb  TS  39
    163 kworker/2:1H-kb  TS  39
    167 scsi_eh_2        TS  19
    168 kworker/R-scsi_  TS  39
    221 jbd2/sda2-8      TS  19
    222 kworker/R-ext4-  TS  39
    271 systemd-journal  TS  20
    302 kworker/0:2-eve  TS  19
    343 systemd-udevd    TS  19
    456 psimon           FF  41
    532 systemd-oomd     TS  19
    534 systemd-resolve  TS  19
    535 systemd-timesyn  TS  19
    576 kworker/R-crypt  TS  39
    580 irq/18-vmwgfx    FF  90
    581 kworker/R-ttm    TS  39
    688 avahi-daemon     TS  19
    692 dbus-daemon      TS  19
    701 gnome-remote-de  TS  19
    719 polkitd          TS  19
    735 power-profiles-  TS  19
    743 snapd            TS  19
    748 accounts-daemon  TS  19
    750 cron             TS  19
    754 switcheroo-cont  TS  19
    762 systemd-logind   TS  19
    764 udisksd          TS  19
    778 avahi-daemon     TS  19
    780 NetworkManager   TS  19
    783 wpa_supplicant   TS  19
    812 rsyslogd         TS  19
    873 ModemManager     TS  19
   1084 cupsd            TS  19
   1087 unattended-upgr  TS  19
   1101 gdm3             TS  19
   1108 cups-browsed     TS  19
   1112 kerneloops       TS  19
   1120 kerneloops       TS  19
   1126 psimon           FF  41
   1225 rtkit-daemon     TS  18
   1362 colord           TS  19
   1404 upowerd          TS  19
   1721 gdm-session-wor  TS  19
   1732 systemd          TS  19
   1735 (sd-pam)         TS  19
   1744 pipewire         TS  19
   1746 pipewire         TS  19
   1753 wireplumber      TS  19
   1755 pipewire-pulse   TS  19
   1759 dbus-daemon      TS  19
   1762 gnome-keyring-d  TS  19
   1806 xdg-document-po  TS  19
   1818 gdm-wayland-ses  TS  19
   1819 xdg-permission-  TS  19
   1827 gnome-session-b  TS  19
   1839 fusermount3      TS  19
   1909 gcr-ssh-agent    TS  19
   1910 gnome-session-c  TS  19
   1924 gvfsd            TS  19
   1932 gvfsd-fuse       TS  19
   1936 gnome-session-b  TS  19
   1976 gnome-shell      TS  19
   1980 at-spi-bus-laun  TS  19
   1990 dbus-daemon      TS  19
   2058 at-spi2-registr  TS  19
   2077 gnome-shell-cal  TS  19
   2087 evolution-sourc  TS  19
   2096 gjs              TS  19
   2100 ibus-daemon      TS  19
   2101 gsd-a11y-settin  TS  19
   2104 gsd-color        TS  19
   2108 gsd-datetime     TS  19
   2110 gsd-housekeepin  TS  19
   2117 gsd-keyboard     TS  19
   2118 gsd-media-keys   TS  19
   2121 gsd-power        TS  19
   2122 gsd-print-notif  TS  19
   2125 gsd-rfkill       TS  19
   2127 gsd-screensaver  TS  19
   2131 gsd-sharing      TS  19
   2134 gsd-smartcard    TS  19
   2135 gsd-sound        TS  19
   2137 gsd-wacom        TS  19
   2141 evolution-alarm  TS  19
   2173 gsd-disk-utilit  TS  19
   2245 ibus-dconf       TS  19
   2250 ibus-extension-  TS  19
   2263 gvfs-udisks2-vo  TS  19
   2274 ibus-portal      TS  19
   2325 goa-daemon       TS  19
   2327 gsd-printer      TS  19
   2352 gvfs-gphoto2-vo  TS  19
   2354 goa-identity-se  TS  19
   2362 evolution-calen  TS  19
   2367 gvfs-mtp-volume  TS  19
   2375 gvfs-afc-volume  TS  19
   2381 gvfs-goa-volume  TS  19
   2394 evolution-addre  TS  19
   2419 ibus-engine-sim  TS  19
   2447 dconf-service    TS  19
   2458 gvfsd-metadata   TS  19
   2459 gvfsd-trash      TS  19
   2474 snapd-desktop-i  TS  19
   2585 snapd-desktop-i  TS  19
   2595 tracker-miner-f IDL   0
   2633 gjs              TS  19
   2653 xdg-desktop-por  TS  19
   2663 xdg-desktop-por  TS  19
   2682 xdg-desktop-por  TS  19
   2771 update-notifier  TS  19
   2820 nautilus         TS  19
   2840 Xwayland         TS  19
   2844 gsd-xsettings    TS  19
   2867 ibus-x11         TS  19
   2872 mutter-x11-fram  TS  19
   2907 gvfsd-recent     TS  19
   2920 gnome-text-edit  TS  19
   3003 fwupd            TS  19
   3053 kworker/1:0-eve  TS  19
   3087 kworker/u21:2    TS  39
   3168 kworker/1:2-cgr  TS  19
   3175 kworker/u20:4-f  TS  19
   3184 kworker/4:3-cgr  TS  19
   3217 gjs              TS  19
   3400 kworker/2:2-ata  TS  19
   3435 kworker/3:2-cgr  TS  19
   3476 gnome-terminal-  TS  19
   3485 bash             TS  19
   3512 kworker/u20:0-f  TS  19
   3551 kworker/3:2H     TS  39
   3618 kworker/2:1      TS  19
   3671 kworker/u20:2-f  TS  19
   3681 ps               TS  19

–≥–¥–µ clt - –∫–ª–∞—Å—Å –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è(TS - SCHED_OTHER, FF - SCHED_FIFO(–ø—Ä–æ—Ü–µ—Å—Å—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ –ø–æ—Ä—è–¥–∫–µ –æ—á–µ—Ä–µ–¥–∏), IDL - SCHED_IDLE(–ø—Ä–æ—Ü–µ—Å—Å—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞ —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –∏–º–µ–µ—Ç –¥—Ä—É–≥–∏—Ö –∑–∞–¥–∞—á –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)), pri - –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å–∞.

–û–ø—Ä–µ–¥–µ–ª–∏–º –ø–æ–ª–∏—Ç–∏–∫—É –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ —Å –ø–æ–º–æ—â—å—é —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ sched_getscheduler() –∏ getpriority():
ksenox@pupup:~$ nano planning_policy_priority_51.c
ksenox@pupup:~$ cat planning_policy_priority_51.c
#include <sched.h>
#include <stdio.h>
#include <unistd.h>
#include <sys/resource.h>

int main(){
  pid_t pid = getpid();
  int policy = sched_getscheduler(pid);
  
  int priority = getpriority(PRIO_PROCESS, pid);
  
  printf("–ø–æ–ª–∏—Ç–∏–∫–∞: %d\n", policy);
  printf("–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç: %d\n", priority);
  return 0;
}
ksenox@pupup:~$ gcc -o planning_policy_priority_51 planning_policy_priority_51.c
ksenox@pupup:~$ ./planning_policy_priority_51 
–ø–æ–ª–∏—Ç–∏–∫–∞: 0
–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç: 0
–ü–æ–ª–∏—Ç–∏–∫–∞ - 0(SCHED_OTHER) –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 0. –ü–æ–ª—É—á–∞–µ—Ç—Å—è, —á—Ç–æ –æ–±—ã—á–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ –ø–æ–ª–∏—Ç–∏–∫–µ SCHED_OTHER —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º 0(—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç).

–ü—Ä–æ–≤–µ–¥–µ–º —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç —Å –æ—á–µ—Ä–µ–¥–Ω–æ—Å—Ç—å—é –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤. –ó–∞–ø—É—Å—Ç–∏–º –¥–≤–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –∏–∑ –ø—É–Ω–∫—Ç–∞ 4.3 –∏ –ø—Ä–æ–≥—Ä–∞–º–º—É –ø—Ä–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–ª–∏—Ç–∏–∫–∏ –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ, —á—Ç–æ–±—ã –æ—Ç—Å–ª–µ–¥–∏—Ç—å –æ—á–µ—Ä–µ–¥–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤:
ksenox@pupup:~$ ./planning_policy_priority_51 & ./resource_flow_analysis_4_3 &
[1] 3474
[2] 3475
ksenox@pupup:~$ –ø–æ–ª–∏—Ç–∏–∫–∞: 0
–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç: 0
–ø–æ—Ç–æ–∫ 1: –ª–æ–∫–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è = 10 (–∞–¥—Ä–µ—Å 0x7399875fee94)
–ø–æ—Ç–æ–∫ 1: –≥–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è = 1
–ø–æ—Ç–æ–∫ 2: –ª–æ–∫–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è = 20 (–∞–¥—Ä–µ—Å 0x739986dfde94)
–ø–æ—Ç–æ–∫ 2: –≥–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è = 2
–ø–æ—Ç–æ–∫ 1: –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è MY_VAR = Hello!
–ø–æ—Ç–æ–∫ 1: tid = 3476, pid = 3475
–ø–æ—Ç–æ–∫ 2: –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è MY_VAR = Hello!
–ø–æ—Ç–æ–∫ 2: tid = 3477, pid = 3475
–ø–æ—Ç–æ–∫ 3: –ª–æ–∫–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è = 30 (–∞–¥—Ä–µ—Å 0x7399865fce94)
–ø–æ—Ç–æ–∫ 3: –≥–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è = 3
–ø–æ—Ç–æ–∫ 3: –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è MY_VAR = Hello!
–ø–æ—Ç–æ–∫ 3: tid = 3478, pid = 3475
–ø–æ—Ç–æ–∫ 1 –∑–∞–ø–∏—Å–∞–ª –¥–∞–Ω–Ω—ã–µ
–ø–æ—Ç–æ–∫ 2 –∑–∞–ø–∏—Å–∞–ª –¥–∞–Ω–Ω—ã–µ
–ø–æ—Ç–æ–∫ 3 –∑–∞–ø–∏—Å–∞–ª –¥–∞–Ω–Ω—ã–µ

[1]-  –ó–∞–≤–µ—Ä—à—ë–Ω        ./planning_policy_priority_51
[2]+  –ó–∞–≤–µ—Ä—à—ë–Ω        ./resource_flow_analysis_4_3
–í–∏–¥–∏–º, —á—Ç–æ —Å–Ω–∞—á–∞–ª–∞ –±—ã–ª–∞ –∑–∞–ø—É—â–µ–Ω–∞ –ø–µ—Ä–≤–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞, –∞ –ø–æ—Ç–æ–º –≤—Ç–æ—Ä–∞—è. –ò–∑–º–µ–Ω–∏–º –ø–æ—Ä—è–¥–æ–∫ –ø—Ä–æ–≥—Ä–∞–º–º:
ksenox@pupup:~$ ./resource_flow_analysis_4_3 & ./planning_policy_priority_51 &
[1] 3523
[2] 3524
ksenox@pupup:~$ –ø–æ–ª–∏—Ç–∏–∫–∞: 0
–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç: 0
–ø–æ—Ç–æ–∫ 3: –ª–æ–∫–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è = 30 (–∞–¥—Ä–µ—Å 0x7a65fc1fce94)
–ø–æ—Ç–æ–∫ 2: –ª–æ–∫–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è = 20 (–∞–¥—Ä–µ—Å 0x7a65fc9fde94)
–ø–æ—Ç–æ–∫ 2: –≥–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è = 1
–ø–æ—Ç–æ–∫ 3: –≥–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è = 2
–ø–æ—Ç–æ–∫ 3: –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è MY_VAR = Hello!
–ø–æ—Ç–æ–∫ 3: tid = 3527, pid = 3523
–ø–æ—Ç–æ–∫ 2: –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è MY_VAR = Hello!
–ø–æ—Ç–æ–∫ 2: tid = 3526, pid = 3523
–ø–æ—Ç–æ–∫ 1: –ª–æ–∫–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è = 10 (–∞–¥—Ä–µ—Å 0x7a65fd1fee94)
–ø–æ—Ç–æ–∫ 1: –≥–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è = 3
–ø–æ—Ç–æ–∫ 1: –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è MY_VAR = Hello!
–ø–æ—Ç–æ–∫ 1: tid = 3525, pid = 3523
–ø–æ—Ç–æ–∫ 2 –∑–∞–ø–∏—Å–∞–ª –¥–∞–Ω–Ω—ã–µ
–ø–æ—Ç–æ–∫ 3 –∑–∞–ø–∏—Å–∞–ª –¥–∞–Ω–Ω—ã–µ
–ø–æ—Ç–æ–∫ 1 –∑–∞–ø–∏—Å–∞–ª –¥–∞–Ω–Ω—ã–µ

[1]-  –ó–∞–≤–µ—Ä—à—ë–Ω        ./resource_flow_analysis_4_3
[2]+  –ó–∞–≤–µ—Ä—à—ë–Ω        ./planning_policy_priority_51
–•–æ—Ç—å –∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Å –º–µ–Ω—å—à–∏–º –∫–æ–¥–æ–º –±—ã–ª–∞ –∑–∞–ø—É—â–µ–Ω–∞ –ø–æ–∑–∂–µ, –Ω–æ –∏–∑-–∑–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –æ–Ω–∞ –±—ã–ª–∞ –≤—ã–≤–µ–¥–µ–Ω–∞ –ø–µ—Ä–≤–æ–π, —Ç.–∫. —ç—Ç–æ –ª–µ–≥–∫–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –∏ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –ø–µ—Ä–≤–æ–π. –î–∞–ª–µ–µ –ø–æ–ø—Ä–æ–±—É—é –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã –∏–∑ –ø—É–Ω–∫—Ç–æ–≤ 4.1 –∏ 4.3 (–æ–Ω–∏ –ø—Ä–∏–º–µ—Ä–Ω–æ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏):
ksenox@pupup:~$ ./resource_flow_analysis_4_3 & ./test_4_1_pthread_clone &
[1] 4750
[2] 4751
ksenox@pupup:~$ –ø–æ—Ç–æ–∫ 1: –ª–æ–∫–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è = 10 (–∞–¥—Ä–µ—Å 0x73a3a7dfee94)
–ø–æ—Ç–æ–∫ 1: –≥–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è = 1
–ø–æ—Ç–æ–∫ 1: –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è MY_VAR = Hello!
–ø–æ—Ç–æ–∫ 1: tid = 4752, pid = 4750
–ø–æ—Ç–æ–∫ 2: –ª–æ–∫–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è = 20 (–∞–¥—Ä–µ—Å 0x73a3a75fde94)
–ø–æ—Ç–æ–∫ 2: –≥–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è = 2
–ø–æ—Ç–æ–∫ 2: –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è MY_VAR = Hello!
–ø–æ—Ç–æ–∫ 2: tid = 4753, pid = 4750
–ø–æ—Ç–æ–∫ 3: –ª–æ–∫–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è = 30 (–∞–¥—Ä–µ—Å 0x73a3a6dfce94)
pthread: –ø–æ—Ç–æ–∫ 2 –∑–∞–ø—É—â–µ–Ω, tid = 4756, pid = 4751
–ø–æ—Ç–æ–∫ 3: –≥–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è = 3
pthread: –ø–æ—Ç–æ–∫ 3 –∑–∞–ø—É—â–µ–Ω, tid = 4757, pid = 4751
pthread: –ø–æ—Ç–æ–∫ 1 –∑–∞–ø—É—â–µ–Ω, tid = 4755, pid = 4751
–ø–æ—Ç–æ–∫ 3: –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è MY_VAR = Hello!
–ø–æ—Ç–æ–∫ 3: tid = 4754, pid = 4750
–ø–æ—Ç–æ–∫ 1 –∑–∞–ø–∏—Å–∞–ª –¥–∞–Ω–Ω—ã–µ
–ø–æ—Ç–æ–∫ 2 –∑–∞–ø–∏—Å–∞–ª –¥–∞–Ω–Ω—ã–µ
–ø–æ—Ç–æ–∫ 3 –∑–∞–ø–∏—Å–∞–ª –¥–∞–Ω–Ω—ã–µ
pthread: –ø–æ—Ç–æ–∫ 3 –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É –∑–∞ 50.206030 —Å–µ–∫
pthread: –ø–æ—Ç–æ–∫ 2 –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É –∑–∞ 50.206295 —Å–µ–∫
pthread: –ø–æ—Ç–æ–∫ 1 –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É –∑–∞ 50.265456 —Å–µ–∫
clone: –ø–æ—Ç–æ–∫ 1 –∑–∞–ø—É—â–µ–Ω, tid = 4794, pid = 4751
clone: –ø–æ—Ç–æ–∫ 2 –∑–∞–ø—É—â–µ–Ω, tid = 4796, pid = 4751
clone: –ø–æ—Ç–æ–∫ 3 –∑–∞–ø—É—â–µ–Ω, tid = 4797, pid = 4751
–≥–ª–∞–≤–Ω—ã–π –ø–æ—Ç–æ–∫ –∑–∞–≤–µ—Ä—à–µ–Ω

[1]-  –ó–∞–≤–µ—Ä—à—ë–Ω        ./resource_flow_analysis_4_3
[2]+  –ó–∞–≤–µ—Ä—à—ë–Ω        ./test_4_1_pthread_clone
–í–∏–¥–∏–º, —á—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Å–Ω–∞—á–∞–ª–∞ —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ (–≤—ã–≤–æ–¥ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∏ –∏–∑ –ø–µ—Ä–≤–æ–π, –∏ –∏–∑ –≤—Ç–æ—Ä–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ), –Ω–æ –∏–∑-–∑–∞ —Ç–æ–≥–æ, —á—Ç–æ test_4_1_pthread_clone —Ç—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –æ–Ω–∞ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –≥–æ—Ä–∞–∑–¥–æ –ø–æ–∑–∂–µ, —á–µ–º resource_flow_analysis_4_3.

5.2.
ksenox@pupup:~$ date
Fri Mar 21 10:09:24 PM UTC 2025

1) –ò–∑–º–µ–Ω–∏–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã —Å –ø–æ–º–æ—â—å—é nice - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º:
ksenox@pupup:~$ nice -n 10 ./planning_policy_priority_51
–ø–æ–ª–∏—Ç–∏–∫–∞: 0
–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç: 10
–†–∞–¥–∏ –∏–Ω—Ç–µ—Ä–µ—Å–∞ –ø–æ–ø—Ä–æ–±—É–µ–º –∏–∑–º–µ–Ω–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å–∞ bash —Å –ø–æ–º–æ—â—å—é –ø—Ä–æ–≥—Ä–∞–º–º—ã renice –∏ pid-–∞:
ksenox@pupup:~$ ps -eo pid,comm,cls,pri | grep bash
   3313 bash             TS  19
ksenox@pupup:~$ sudo renice -n -10 -p 3313
[sudo] –ø–∞—Ä–æ–ª—å –¥–ª—è ksenox: 
3313 (process ID) —Å—Ç–∞—Ä—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 0, –Ω–æ–≤—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç -10
ksenox@pupup:~$ ps -eo pid,comm,cls,pri | grep bash
   3313 bash             TS  29
ksenox@pupup:~$ sudo renice -n 0 -p 3313
3313 (process ID) —Å—Ç–∞—Ä—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç -10, –Ω–æ–≤—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 0
ksenox@pupup:~$ ps -eo pid,comm,cls,pri | grep bash
   3313 bash             TS  19

–ê —Ç–µ–ø–µ—Ä—å –ø–æ–ø—Ä–æ–±—É–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å nice –¥–ª—è bash:
ksenox@pupup:~$ sudo nice -n 10 bash
root@pupup:/home/ksenox# 
–í–∏–¥–∏–º, —á—Ç–æ sudo nice –∑–∞–ø—É—Å—Ç–∏–ª –Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å bash —Å –ø—Ä–∞–≤–∞–º–∏ root. –í —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å, renice –ø—Ä–æ—Å—Ç–æ –∏–∑–º–µ–Ω–∏–ª –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ bash. 

–¢–µ–ø–µ—Ä—å –ø–æ–ø—Ä–æ–±—É–µ–º –∏–∑–º–µ–Ω–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Å –ø–æ–º–æ—â—å—é renice - –≤–æ–∑—å–º–µ–º systemd:
ksenox@pupup:~$ ps -eo pid,comm,cls,pri | grep systemd
      1 systemd          TS  19
    271 systemd-journal  TS  20
    347 systemd-udevd    TS  19
    528 systemd-oomd     TS  19
    530 systemd-resolve  TS  19
    533 systemd-timesyn  TS  19
    773 systemd-logind   TS  19
   1740 systemd          TS  19
ksenox@pupup:~$ sudo renice -n -10 -p 271 
271 (process ID) —Å—Ç–∞—Ä—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç -1, –Ω–æ–≤—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç -10
ksenox@pupup:~$ ps -eo pid,comm,cls,pri | grep systemd
      1 systemd          TS  19
    271 systemd-journal  TS  29
    347 systemd-udevd    TS  19
    528 systemd-oomd     TS  19
    530 systemd-resolve  TS  19
    533 systemd-timesyn  TS  19
    773 systemd-logind   TS  19
   1740 systemd          TS  19
ksenox@pupup:~$ sudo renice -n 0 -p 271 
271 (process ID) —Å—Ç–∞—Ä—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç -10, –Ω–æ–≤—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 0
ksenox@pupup:~$ ps -eo pid,comm,cls,pri | grep systemd
      1 systemd          TS  19
    271 systemd-journal  TS  19
    347 systemd-udevd    TS  19
    528 systemd-oomd     TS  19
    530 systemd-resolve  TS  19
    533 systemd-timesyn  TS  19
    773 systemd-logind   TS  19
   1740 systemd          TS  19

–¢–µ–ø–µ—Ä—å –ø–æ–ø—Ä–æ–±—É–µ–º nice:
senox@pupup:~$ sudo nice -n -10 systemd
ksenox@pupup:~$ ps -eo pid,comm,cls,pri | grep systemd
      1 systemd          TS  19
    271 systemd-journal  TS  19
    347 systemd-udevd    TS  19
    528 systemd-oomd     TS  19
    530 systemd-resolve  TS  19
    533 systemd-timesyn  TS  19
    773 systemd-logind   TS  19
   1740 systemd          TS  19

–í–∏–¥–∏–º, —á—Ç–æ nice —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–æ—Ü–µ—Å—Å–∞(—Ç. –µ. –ø—Ä–∏ –ª—é–±–æ–º –≤—ã–∑–æ–≤–µ –æ–Ω –ø—ã—Ç–∞–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å —Å –Ω–æ–≤—ã–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º). –ù–æ –ø–æ—Å–∫–æ–ª—å–∫–æ systemd —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–æ—ç—Ç–æ–º—É –Ω–æ–≤—ã–π systemd –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è. Renice –º–æ–≥ –∏–∑–º–µ–Ω–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å–∞, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ —è–¥—Ä—É –∏ –º–µ–Ω—è–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç —É–∂–µ –∑–∞–ø—É—â–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞.

2) –° –ø–æ–º–æ—â—å—é getpriority() –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –≤—ã–ø–æ–ª–Ω—è–µ–º–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞, –¥–ª—è –≥—Ä—É–ø–ø—ã –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –∏–ª–∏ –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –î–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ planning_policy_priority_51 –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å–∞, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∞.

5.3.
ksenox@pupup:~$ date
Sat Mar 22 03:22:23 PM UTC 2025

5.3.1. –°–æ–∑–¥–∞–¥–∏–º –ø—Ä–æ–≥—Ä–∞–º–º—É, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –∏–º–µ—Ç—å –ø—Ä–æ—Ü–µ–¥—É—Ä—É –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è FIFO –∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã:
ksenox@pupup:~$ gcc -o task_5_3_1 task_5_3_1.c 
ksenox@pupup:~$ sudo ./task_5_3_1 
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3637, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3637, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3637, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3637, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3637, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3636, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3636, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3636, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3636, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3636, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3638, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3638, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3638, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3638, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3638, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1

–í–∏–¥–∏–º, —á—Ç–æ –ø—Ä–∏ –ø–æ–ª–∏—Ç–∏–∫–µ SCHED_FIFO –∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞—Ö –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ –ø–æ—Ä—è–¥–∫–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ –∑–∞–ø—É—Å–∫—É. –ü–æ–ª–∏—Ç–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏ –Ω–∏–∫–∞–∫–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –Ω–µ –ø–µ—Ä–µ–±–∏–≤–∞—é—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥—Ä—É–≥ –¥—Ä—É–≥–∞.

5.3.2. –ò—Å—Å–ª–µ–¥—É–µ–º –≥—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é –ø—Ä–æ–≥—Ä–∞–º–º—ã:
ksenox@pupup:~$ nano priority_boundaries_532.c
ksenox@pupup:~$ gcc -o priority_boundaries_532 priority_boundaries_532.c
ksenox@pupup:~$ ./priority_boundaries_532 
SCHED_OTHER: –º–∏–Ω –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 0, –º–∞–∫—Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 0
SCHED_FIFO: –º–∏–Ω –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 1, –º–∞–∫—Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 99
SCHED_RR: –º–∏–Ω –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 1, –º–∞–∫—Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 99
–ü–æ–ª—É—á–∞–µ—Ç—Å—è, —á—Ç–æ SCHED_OTHER –≤—Å–µ–≥–¥–∞ –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 0, –∞ SCHED_FIFO –∏ SCHED_RR –º–æ–≥—É—Ç –∏–º–µ—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –æ—Ç 0 –¥–æ 99.

5.3.3. –ü—Ä–æ–≤–µ—Ä–∏–º —Ä–∞–∑–Ω—ã–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∏ –∏—Ö –≤–ª–∏—è–Ω–∏–µ –Ω–∞ –ø–æ—Ä—è–¥–æ–∫ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤:
ksenox@pupup:~$ gcc -o task_5_3_3 task_5_3_3.c 
ksenox@pupup:~$ sudo ./task_5_3_3 
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3836, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3836, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3836, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3836, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3836, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3837, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3837, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3837, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3837, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3837, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3838, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 5, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3838, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 5, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3838, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 5, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3838, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 5, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3838, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 5, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1

–ü–æ–ª—É—á–∞–µ—Ç—Å—è, —á—Ç–æ –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–π –ø–æ–ª–∏—Ç–∏–∫–∏ –ø—Ä–æ—Ü–µ—Å—Å—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Å–æ–≥–ª–∞—Å–Ω–æ –∏—Ö –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º (–±–æ–ª—å—à–µ–µ —á–∏—Å–ª–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ—Ç –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç). –î–ª—è –ø–æ–ª–∏—Ç–∏–∫–∏ SCHED_FIFO –ø—Ä–æ—Ü–µ—Å—Å —Å –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—Å—è –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏–ª–∏ –¥–æ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è CPU.

5.4. 
ksenox@pupup:~$ date
Sat Mar 29 05:02:49 PM UTC 2025

–ò–∑–º–µ–Ω–∏–º –ø—Ä–æ—Ü–µ–¥—É—Ä—É –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ RR –∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–≤—Ç–æ—Ä–∏–º —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç –ø—É–Ω–∫—Ç–∞ 5.3:
–ü–æ—Å—Ç–∞–≤–∏–º –ø–æ–ª–∏—Ç–∏–∫—É SCHED_RR –∏ —Ä–∞–≤–Ω—ã–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã:
ksenox@pupup:~$ gcc -o task_5_4_1 task_5_4_1.c 
ksenox@pupup:~$ sudo ./task_5_4_1 
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3963, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3962, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3963, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3962, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3963, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3962, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3963, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3962, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3963, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3962, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3964, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3964, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3964, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3964, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 3964, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2

–í–∏–¥–∏–º, —á—Ç–æ –¥–≤–∞ –¥–æ—á–µ—Ä–Ω–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ–æ—á–µ—Ä–µ–¥–Ω–æ, –ø–æ—Å–∫–æ–ª—å–∫—É –∫–∞–∂–¥–æ–º—É –ø—Ä–æ—Ü–µ—Å—Å—É –¥–∞–µ—Ç—Å—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è (–∫–≤–∞–Ω—Ç) –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è. –ò –µ—Å–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å –Ω–µ –∑–∞–≤–µ—Ä—à–∏–ª—Å—è –∑–∞ –∫–≤–∞–Ω—Ç, —Ç–æ –µ–≥–æ –≤—ã—Ç–µ—Å–Ω—è–µ—Ç –¥—Ä—É–≥–æ–π –ø—Ä–æ—Ü–µ—Å—Å –≤ –æ—á–µ—Ä–µ–¥–∏ –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è. –¢—Ä–µ—Ç–∏–π –ø—Ä–æ—Ü–µ—Å—Å –Ω–µ –∫–æ–Ω–∫—É—Ä–∏—Ä—É–µ—Ç —Å—Ä–∞–∑—É, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω –ø–æ–∑–∂–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –æ—á–µ—Ä–µ–¥—å –Ω–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ.

–¢–µ–ø–µ—Ä—å –ø–æ—Å—Ç–∞–≤–∏–º –æ–¥–Ω—É –ø–æ–ª–∏—Ç–∏–∫—É SCHED_RR –∏ —Ä–∞–∑–Ω—ã–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –¥–ª—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤:
ksenox@pupup:~$ gcc -o task_5_4_3 task_5_4_3.c 
ksenox@pupup:~$ sudo ./task_5_4_3 
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4262, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4262, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4262, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4262, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4262, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4263, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4263, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4263, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4263, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4263, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4264, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 5, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4264, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 5, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4264, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 5, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4264, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 5, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4264, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 5, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2

–ü–æ–ª—É—á–∞–µ–º, —á—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Å–æ–≥–ª–∞—Å–Ω–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º –ø—Ä–æ—Ü–µ—Å—Å–æ–≤.

–î–æ–±–∞–≤–∏–º sched_yield() –¥–ª—è –≤–ª–∏—è–Ω–∏—è –Ω–∞ –ø–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏ –∏ —Ä–∞–∑–Ω—ã–º–∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏: 
ksenox@pupup:~$ gcc -o task_5_4_1_yield task_5_4_1_yield.c 
ksenox@pupup:~$ sudo ./task_5_4_yield 
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4460, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4462, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4460, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4461, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4462, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4460, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4462, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4460, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4461, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4460, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4462, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4461, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4462, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4461, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4461, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2

ksenox@pupup:~$ gcc -o task_5_4_3_yield task_5_4_3_yield.c 
ksenox@pupup:~$ sudo ./task_5_4_3_yield 
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4662, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4662, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4662, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4662, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4662, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4663, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4663, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4663, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4663, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4663, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4664, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 5, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4664, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 5, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4664, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 5, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4664, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 5, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4664, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 5, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2

ksenox@pupup:~$ sudo ./task_5_4_3_yield 
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4751, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4752, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4751, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4752, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4751, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4752, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4751, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4752, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4751, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4752, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4753, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 5, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4753, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 5, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4753, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 5, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4753, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 5, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4753, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 5, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2

–í–∏–¥–∏–º, —á—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å—ã —Å –ø–æ–º–æ—â—å—é sched_yield() –¥–æ–±—Ä–æ–≤–æ–ª—å–Ω–æ —É—Å—Ç—É–ø–∞—é—Ç –∫–≤–∞–Ω—Ç—ã –¥—Ä—É–≥–æ–º—É –ø—Ä–æ—Ü–µ—Å—Å—É —Å —Ç–∞–∫–∏–º –∂–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º.

–û–ø—Ä–µ–¥–µ–ª–∏–º –≤–µ–ª–∏—á–∏–Ω—É –∫–≤–∞–Ω—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º task_5_4_1.c –∏ task_5_4_3.c:
ksenox@pupup:~$ gcc -o task_5_4_1 task_5_4_1.c 
ksenox@pupup:~$ sudo ./task_5_4_1 
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4935, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2, –∫–≤–∞–Ω—Ç = 100 –º—Å
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4935, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2, –∫–≤–∞–Ω—Ç = 100 –º—Å
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4935, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2, –∫–≤–∞–Ω—Ç = 100 –º—Å
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4935, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2, –∫–≤–∞–Ω—Ç = 100 –º—Å
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4935, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2, –∫–≤–∞–Ω—Ç = 100 –º—Å
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4937, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2, –∫–≤–∞–Ω—Ç = 100 –º—Å
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4937, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2, –∫–≤–∞–Ω—Ç = 100 –º—Å
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4937, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2, –∫–≤–∞–Ω—Ç = 100 –º—Å
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4937, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2, –∫–≤–∞–Ω—Ç = 100 –º—Å
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4937, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2, –∫–≤–∞–Ω—Ç = 100 –º—Å
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4936, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2, –∫–≤–∞–Ω—Ç = 100 –º—Å
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4936, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2, –∫–≤–∞–Ω—Ç = 100 –º—Å
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4936, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2, –∫–≤–∞–Ω—Ç = 100 –º—Å
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4936, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2, –∫–≤–∞–Ω—Ç = 100 –º—Å
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4936, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2, –∫–≤–∞–Ω—Ç = 100 –º—Å

ksenox@pupup:~$ gcc -o task_5_4_3 task_5_4_3.c 
ksenox@pupup:~$ sudo ./task_5_4_3
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4995, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2, –∫–≤–∞–Ω—Ç = 100 –º—Å
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4995, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2, –∫–≤–∞–Ω—Ç = 100 –º—Å
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4995, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2, –∫–≤–∞–Ω—Ç = 100 –º—Å
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4995, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2, –∫–≤–∞–Ω—Ç = 100 –º—Å
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4995, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 10, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2, –∫–≤–∞–Ω—Ç = 100 –º—Å
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4994, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2, –∫–≤–∞–Ω—Ç = 100 –º—Å
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4994, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2, –∫–≤–∞–Ω—Ç = 100 –º—Å
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4994, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2, –∫–≤–∞–Ω—Ç = 100 –º—Å
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4994, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2, –∫–≤–∞–Ω—Ç = 100 –º—Å
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4994, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2, –∫–≤–∞–Ω—Ç = 100 –º—Å
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4996, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 5, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2, –∫–≤–∞–Ω—Ç = 100 –º—Å
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4996, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 5, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2, –∫–≤–∞–Ω—Ç = 100 –º—Å
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4996, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 5, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2, –∫–≤–∞–Ω—Ç = 100 –º—Å
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4996, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 5, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2, –∫–≤–∞–Ω—Ç = 100 –º—Å
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 4996, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 5, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2, –∫–≤–∞–Ω—Ç = 100 –º—Å


–ü–æ–ª—É—á–∞–µ–º —Å–ª–µ–¥—É—é—â–µ–µ: 
1) –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –≤–ª–∏—è—é—Ç –Ω–∞ –ø–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (—á–µ–º –±–æ–ª—å—à–µ –ø—Ä–∏–æ—Ä–∏–µ—Ç, —Ç–µ–º –±—ã—Å—Ç—Ä–µ–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –ø—Ä–æ—Ü–µ—Å—Å);  
2) –∫–≤–∞–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ –≤ Linux –ø—Ä–∏–º–µ—Ä–Ω–æ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 100 –º—Å, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤;
3) –ø—Ä–∏ –≤—ã–∑–æ–≤–µ sched_yield() –¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ —É—Å—Ç—É–ø–∞–ª CPU –∏ –ø—Ä–æ–¥–æ–ª–∂–∞–ª –≤—ã–ø–æ–ª–Ω—è—Ç—Å—è –¥—Ä—É–≥–æ–π –ø—Ä–æ—Ü–µ—Å—Å –≤ –æ—á–µ—Ä–µ–¥–∏. –ü–æ–ª—É—á–∞–µ—Ç—Å—è, —á—Ç–æ sched_yield() –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–ø–ª–∞–Ω–∏—Ä—É–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –≤ –∫–æ–Ω–µ—Ü –æ—á–µ—Ä–µ–¥–∏ —Å–≤–æ–µ–≥–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞;
4) –≤ SCHED_RR –ø—Ä–æ—Ü–µ—Å—Å—ã —á–µ—Ä–µ–¥—É—é—Ç—Å—è –ø—Ä–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞—Ö, –∞ –ø—Ä–∏ —Ä–∞–∑–Ω—ã—Ö –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ –ø–æ—Ä—è–¥–∫–µ –∏—Ö –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞—Ö.

5.5.
ksenox@pupup:~$ date
Sat Mar 29 05:32:02 PM UTC 2025

–ü—Ä–æ–≤–µ—Ä–∏–º, –º–æ–∂–Ω–æ –ª–∏ –∑–∞–¥–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–∑–Ω—ã–º –ø—Ä–æ—Ü–µ—Å—Å—Å–∞–º —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–æ:
1. –£ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø–æ–ª–∏—Ç–∏–∫–∞ SCHED_RR, —É –¥–æ—á–µ—Ä–Ω–µ–≥–æ SCHED_FIFO, –Ω–æ —É –æ–±–æ–∏—Ö –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ä–∞–≤–µ–Ω 15:
ksenox@pupup:~$ sudo ./planning_policy_priority_53
[sudo] –ø–∞—Ä–æ–ª—å –¥–ª—è ksenox: 
–∫–≤–∞–Ω—Ç—ã –≤—Ä–µ–º–µ–Ω–∏ = 1000019
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 5647, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 5646, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 5646, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 5647, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 5646, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 5647, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 5646, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 5647, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 5646, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 5647, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä

2. –£ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø–æ–ª–∏—Ç–∏–∫–∞ SCHED_FIFO, —É –¥–æ—á–µ—Ä–Ω–µ–≥–æ SCHED_RR, –Ω–æ —É –æ–±–æ–∏—Ö –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ä–∞–≤–µ–Ω 15:
ksenox@pupup:~$ sudo ./planning_policy_priority_53
–∫–≤–∞–Ω—Ç—ã –≤—Ä–µ–º–µ–Ω–∏ = 1000025
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 5716, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 5717, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 5716, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 5717, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 5716, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 5717, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 5716, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 5717, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 5716, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 5717, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15, –ø–æ–ª–∏—Ç–∏–∫–∞ = 2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä

3. –£ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø–æ–ª–∏—Ç–∏–∫–∞ SCHED_FIFO, —É –¥–æ—á–µ—Ä–Ω–µ–≥–æ SCHED_OTHER, –Ω–æ —É –æ–±–æ–∏—Ö –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ä–∞–≤–µ–Ω 0:
ksenox@pupup:~$ sudo ./planning_policy_priority_53
–∫–≤–∞–Ω—Ç—ã –≤—Ä–µ–º–µ–Ω–∏ = 1189026
–æ—à–∏–±–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ SCHED_FIFO: Invalid argument
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 5769, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 0, –ø–æ–ª–∏—Ç–∏–∫–∞ = 0
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä

4. –£ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø–æ–ª–∏—Ç–∏–∫–∞ SCHED_OTHER, —É –¥–æ—á–µ—Ä–Ω–µ–≥–æ SCHED_FIFO, –Ω–æ —É –æ–±–æ–∏—Ö –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ä–∞–≤–µ–Ω 0:
ksenox@pupup:~$ sudo ./planning_policy_priority_53
–∫–≤–∞–Ω—Ç—ã –≤—Ä–µ–º–µ–Ω–∏ = 1000051
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 5822, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 0, –ø–æ–ª–∏—Ç–∏–∫–∞ = 0
–æ—à–∏–±–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ SCHED_FIFO: Invalid argument
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 5822, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 0, –ø–æ–ª–∏—Ç–∏–∫–∞ = 0
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 5822, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 0, –ø–æ–ª–∏—Ç–∏–∫–∞ = 0
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 5822, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 0, –ø–æ–ª–∏—Ç–∏–∫–∞ = 0
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 5822, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 0, –ø–æ–ª–∏—Ç–∏–∫–∞ = 0

5. –£ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø–æ–ª–∏—Ç–∏–∫–∞ SCHED_OTHER, —É –¥–æ—á–µ—Ä–Ω–µ–≥–æ SCHED_RR, –Ω–æ —É –æ–±–æ–∏—Ö –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ä–∞–≤–µ–Ω 0:
ksenox@pupup:~$ sudo ./planning_policy_priority_53
–∫–≤–∞–Ω—Ç—ã –≤—Ä–µ–º–µ–Ω–∏ = 1000059
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 5866, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 0, –ø–æ–ª–∏—Ç–∏–∫–∞ = 0
–æ—à–∏–±–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ SCHED_RR: Invalid argument
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 5866, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 0, –ø–æ–ª–∏—Ç–∏–∫–∞ = 0
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 5866, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 0, –ø–æ–ª–∏—Ç–∏–∫–∞ = 0
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 5866, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 0, –ø–æ–ª–∏—Ç–∏–∫–∞ = 0
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 5866, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 0, –ø–æ–ª–∏—Ç–∏–∫–∞ = 0

6. –£ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø–æ–ª–∏—Ç–∏–∫–∞ SCHED_RR, —É –¥–æ—á–µ—Ä–Ω–µ–≥–æ SCHED_OTHER, –Ω–æ —É –æ–±–æ–∏—Ö –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ä–∞–≤–µ–Ω 0:
ksenox@pupup:~$ sudo ./planning_policy_priority_53
–∫–≤–∞–Ω—Ç—ã –≤—Ä–µ–º–µ–Ω–∏ = 1000008
–æ—à–∏–±–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ SCHED_RR: Invalid argument
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å pid = 5918, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 0, –ø–æ–ª–∏—Ç–∏–∫–∞ = 0
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä

–ü–æ–ª—É—á–∞–µ–º —Å–ª–µ–¥—É—é—â–µ–µ:
1) –†–∞–∑–Ω—ã–µ –ø–æ–ª–∏—Ç–∏–∫–∏ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏: —É –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–∞–∑–Ω—ã–µ –ø–æ–ª–∏—Ç–∏–∫–∏ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ —á–∏—Å–ª–æ–≤—ã–º–∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏, –Ω–æ –∏–∑-–∑–∞ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø–æ–ª–∏—Ç–∏–∫–∏ SCHED_OTHER (–µ–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –≤—Å–µ–≥–¥–∞ –¥–æ–ª–∂–µ–Ω —Ä–∞–≤–Ω—è—Ç—Å—è 0) –µ–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ —Å–æ—á–µ—Ç–∞—Ç—å —Å –ø–æ–ª–∏—Ç–∏–∫–∞–º–∏ SCHED_RR/SCHED_FIFO (–ø–æ—Å–∫–æ–ª—å–∫—É –∏—Ö –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç 1);
2) –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –º–µ–∂–¥—É –ø–æ–ª–∏—Ç–∏–∫–∞–º–∏ —Å–ª–µ–¥—É—é—â–∏–π SCHED_FIFO > SCHED_RR > SCHED_OTHER;
3) –ü—Ä–æ—Ü–µ—Å—Å—ã SCHED_FIFO –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–µ—Ä–≤—ã–º–∏, –ø–æ–∫–∞ –Ω–µ –∑–∞–≤–µ—Ä—à–∞—Ç—Å—è –∏–ª–∏ –Ω–µ —É—Å—Ç—É–ø—è—Ç cpu; –ø—Ä–æ—Ü–µ—Å—Å—ã SCHED_RR —á–µ—Ä–µ–¥—É—é—Ç—Å—è –ø–æ –∫–≤–∞–Ω—Ç–∞–º –≤—Ä–µ–º–µ–Ω–∏; SCHED_OTHER –ø–æ–ª—É—á–∞–µ—Ç cpu —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –¥–µ–π—Å—Ç–≤—É—é—â–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤.
–ü–æ–ª—É—á–∞–µ—Ç—Å—è, —á—Ç–æ –ø–æ–ª–∏—Ç–∏–∫–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏–º–µ—é—Ç –∏–µ—Ä–∞—Ä—Ö–∏—é –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤, –∫–æ—Ç–æ—Ä–∞—è –≤–∞–∂–Ω–µ–µ —á–∏—Å–ª–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π sched_priority.

5.6.
ksenox@pupup:~$ date
Sat Mar 29 05:57:04 PM UTC 2025

–û–ø—Ä–µ–¥–µ–ª–∏–º –ø–æ–ª–∏—Ç–∏–∫—É –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –ø–æ—Ç–æ–∫–æ–≤ –æ–¥–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞:
ksenox@pupup:~$ nano threads_priority_policies_5_6.c
ksenox@pupup:~$ cat threads_priority_policies_5_6.c
#include <pthread.h>
#include <stdio.h>
#include <sched.h>

void* thread_func(void* arg){
  int policy = sched_getscheduler(0);
  struct sched_param param;
  sched_getparam(0, &param);
  printf("–ø–æ—Ç–æ–∫ —Å –ø–æ–ª–∏—Ç–∏–∫–æ–π = %d –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º = %d \n", policy, param.sched_priority);
  return NULL;
}

int main(){
  pthread_t thread;
  pthread_create(&thread, NULL, thread_func, NULL);
  pthread_join(thread, NULL);
  return 0;
}
ksenox@pupup:~$ gcc -o threads_priority_policies_5_6 threads_priority_policies_5_6.c 
ksenox@pupup:~$ ./threads_priority_policies_5_6 
–ø–æ—Ç–æ–∫ —Å –ø–æ–ª–∏—Ç–∏–∫–æ–π = 0 –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º = 0 

–í–∏–¥–∏–º, —á—Ç–æ —É –ø–æ—Ç–æ–∫–∞ –ø–æ–ª–∏—Ç–∏–∫–∞ = SCHED_OTHER –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 0 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é), —á—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç –æ —Ç–æ–º, —á—Ç–æ –ø–æ—Ç–æ–∫ –Ω–∞—Å–ª–µ–¥—É–µ—Ç –ø–æ–ª–∏—Ç–∏–∫—É –æ—Ç —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

5.6.1.
–ü–æ–ø—Ä–æ–±—É–µ–º –ø–æ–º–µ–Ω—è—Ç—å –ø–æ–ª–∏—Ç–∏–∫–∏ –≤—Å–µ—Ö –ø–æ—Ç–æ–∫–æ–≤ –æ–¥–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø—Ä–∏ —É—Å–ª–æ–≤–∏–∏ —Ä–∞–≤–Ω—ã—Ö –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤:
1. –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä–∏–º –ø–æ–ª–∏—Ç–∏–∫–∏ –ø–æ—Ç–æ–∫–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:
ksenox@pupup:~$ gcc -o threads_priority_policies_5_6 threads_priority_policies_5_6.c
ksenox@pupup:~$ ./threads_priority_policies_5_6 
–ø–æ—Ç–æ–∫ 1 —Å –ø–æ–ª–∏—Ç–∏–∫–æ–π = 0 –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º = 0 
–ø–æ—Ç–æ–∫ 2 —Å –ø–æ–ª–∏—Ç–∏–∫–æ–π = 0 –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º = 0 
–ø–æ—Ç–æ–∫ 3 —Å –ø–æ–ª–∏—Ç–∏–∫–æ–π = 0 –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º = 0 

2. –ü—É—Å—Ç—å —É –ø–æ—Ç–æ–∫–∞ 1 –±—É–¥–µ—Ç –ø–æ–ª–∏—Ç–∏–∫–∞ SCHED_FIFO, –∞ —É –ø–æ—Ç–æ–∫–∞ 2 –∏ 3- SCHED_RR, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç —É –≤—Å–µ—Ö –ø–æ—Ç–æ–∫–æ–≤ = 15:
ksenox@pupup:~$ sudo ./threads_priority_policies_5_6 
–ø–æ—Ç–æ–∫ 1 —Å –ø–æ–ª–∏—Ç–∏–∫–æ–π = 1 –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º = 15 
–ø–æ—Ç–æ–∫ 1 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 1 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 1 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 2 —Å –ø–æ–ª–∏—Ç–∏–∫–æ–π = 2 –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º = 15 
–ø–æ—Ç–æ–∫ 2 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 2 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 2 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 3 —Å –ø–æ–ª–∏—Ç–∏–∫–æ–π = 2 –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º = 15 
–ø–æ—Ç–æ–∫ 3 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 3 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 3 —Ä–∞–±–æ—Ç–∞–µ—Ç

3. –ü—É—Å—Ç—å —É –ø–æ—Ç–æ–∫–∞ 1 –±—É–¥–µ—Ç –ø–æ–ª–∏—Ç–∏–∫–∞ SCHED_RR, –∞ —É –ø–æ—Ç–æ–∫–∞ 2 –∏ 3- SCHED_FIFO, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç —É –≤—Å–µ—Ö –ø–æ—Ç–æ–∫–æ–≤ = 15:
ksenox@pupup:~$ sudo ./threads_priority_policies_5_6 
–ø–æ—Ç–æ–∫ 2 —Å –ø–æ–ª–∏—Ç–∏–∫–æ–π = 1 –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º = 15 
–ø–æ—Ç–æ–∫ 2 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 2 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 2 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 3 —Å –ø–æ–ª–∏—Ç–∏–∫–æ–π = 1 –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º = 15 
–ø–æ—Ç–æ–∫ 3 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 3 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 3 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 1 —Å –ø–æ–ª–∏—Ç–∏–∫–æ–π = 2 –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º = 15 
–ø–æ—Ç–æ–∫ 1 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 1 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 1 —Ä–∞–±–æ—Ç–∞–µ—Ç

4. –ü—É—Å—Ç—å —É –ø–æ—Ç–æ–∫–∞ 1 –±—É–¥–µ—Ç –ø–æ–ª–∏—Ç–∏–∫–∞ SCHED_OTHER, –∞ —É –ø–æ—Ç–æ–∫–∞ 2 –∏ 3- SCHED_RR, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç —É –≤—Å–µ—Ö –ø–æ—Ç–æ–∫–æ–≤ = 0:
ksenox@pupup:~$ sudo ./threads_priority_policies_5_6 
–ø–æ—Ç–æ–∫ 1 —Å –ø–æ–ª–∏—Ç–∏–∫–æ–π = 0 –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º = 0 
–ø–æ—Ç–æ–∫ 1 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 1 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 1 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 3 —Å –ø–æ–ª–∏—Ç–∏–∫–æ–π = 0 –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º = 0 
–ø–æ—Ç–æ–∫ 3 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 3 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 3 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 2 —Å –ø–æ–ª–∏—Ç–∏–∫–æ–π = 0 –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º = 0 
–ø–æ—Ç–æ–∫ 2 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 2 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 2 —Ä–∞–±–æ—Ç–∞–µ—Ç

5. –ü—É—Å—Ç—å —É –ø–æ—Ç–æ–∫–∞ 1 –±—É–¥–µ—Ç –ø–æ–ª–∏—Ç–∏–∫–∞ SCHED_OTHER, –∞ —É –ø–æ—Ç–æ–∫–∞ 2 –∏ 3 - SCHED_FIFO, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç —É –≤—Å–µ—Ö –ø–æ—Ç–æ–∫–æ–≤ = 0:
ksenox@pupup:~$ sudo ./threads_priority_policies_5_6 
–ø–æ—Ç–æ–∫ 1 —Å –ø–æ–ª–∏—Ç–∏–∫–æ–π = 0 –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º = 0 
–ø–æ—Ç–æ–∫ 1 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 1 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 1 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 2 —Å –ø–æ–ª–∏—Ç–∏–∫–æ–π = 0 –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º = 0 
–ø–æ—Ç–æ–∫ 2 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 2 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 2 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 3 —Å –ø–æ–ª–∏—Ç–∏–∫–æ–π = 0 –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º = 0 
–ø–æ—Ç–æ–∫ 3 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 3 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 3 —Ä–∞–±–æ—Ç–∞–µ—Ç


–ü–æ–ª—É—á–∏–º —Å–ª–µ–¥—É—é—â–µ–µ:
1) –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–æ—Ç–æ–∫–∏ –Ω–∞—Å–ª–µ–¥—É—é—Ç –ø–æ–ª–∏—Ç–∏–∫—É –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –æ—Ç —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞, —á—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –±–∞–∑–æ–≤–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã;
2) –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ SCHED_FIFO/SCHED_RR c –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏ —Å–Ω–∞—á–∞–ª–∞ –≤—ã–≤–æ–¥–∏—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —É –ø–æ—Ç–æ–∫–∞ —Å –ø–æ–ª–∏—Ç–∏–∫–æ–π SCHED_FIFO, –ø–æ—Å–∫–æ–ª—å–∫—É –æ–Ω–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–µ–µ –ø–æ–ª–∏—Ç–∏–∫–∏ SCHED_RR;
3) –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ SCHED_OTHER –∏ SCHED_FIFO/SCHED_RR —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏ 0 –ø–æ–ª–∏—Ç–∏–∫–∏ SCHED_FIFO/SCHED_RR –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è (—Ç.–∫. —É –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª–∏—Ç–∏–∫ –º–∏–Ω–∏–º—É–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 1 –∏ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø–æ—Å—Ç–∞–≤–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 0 –ø–æ–ª–∏—Ç–∏–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ—à–∏–±–∫–∏ –∏ –ø–æ—Ç–æ–∫–∏ –Ω–∞—Å–ª–µ–¥—É—é—Ç –±–∞–∑–æ–≤—ã–µ –ø–æ–ª–∏—Ç–∏–∫–∏ –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã).
–ü–æ–ª—É—á–∞–µ—Ç—Å—è, —á—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ø–æ–ª–∏—Ç–∏–∫–∏ –∏–º–µ—é—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è SCHED_FIFO > SCHED_RR > SCHED_OTHER.
–¢–∞–∫ –∂–µ –≤–∞–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç, —á—Ç–æ –¥–ª—è –ª—é–±–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–ª–∏—Ç–∏–∫–∏ –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ —Ç—Ä–µ–±—É—é—Ç—Å—è –ø—Ä–∞–≤–∞ sudo (–±—É–¥—å —Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–ª–∏—Ç–∏–∫–∏ –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ —É –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏–ª–∏ —É –ø–æ—Ç–æ–∫–∞).

5.6.2. –£—Å—Ç–∞–Ω–æ–≤–∏–º –¥–ª—è –¥–≤—É—Ö –ø–æ—Ç–æ–∫–æ–≤ —Ä–∞–∑–Ω—ã–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –ø–æ–ª–∏—Ç–∏–∫–∏ –∏ –æ—Ç—Å–ª–µ–¥–∏–º –∑–∞–∫–æ–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç—å:
1. –ü—Ä–æ–≤–æ–¥–∏—Ç—å —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç —Å –ø–æ–ª–∏—Ç–∏–∫–æ–π SCHED_OTHER –Ω–µ –±—É–¥—É, –ø–æ—Å–∫–æ–ª—å–∫—É –ø–æ—Å—Ç–∞–≤–∏—Ç—å —Ä–∞–∑–Ω—ã–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –¥–ª—è –¥–∞–Ω–Ω–æ–π –ø–æ–ª–∏—Ç–∏–∫–∏ –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è.

2. –ü—É—Å—Ç—å –ø–µ—Ä–≤—ã–π –ø–æ—Ç–æ–∫ –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1, –≤—Ç–æ—Ä–æ–π –ø–æ—Ç–æ–∫ –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 50, —Ç—Ä–µ—Ç–∏–π –ø–æ—Ç–æ–∫ –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 99 –∏ –ø—Ä–∏ —ç—Ç–æ–º –ø–æ–ª–∏—Ç–∏–∫–∞ = SCHED_FIFO:
ksenox@pupup:~$ sudo ./threads_priority_policies_5_6 
–ø–æ—Ç–æ–∫ 3 —Å –ø–æ–ª–∏—Ç–∏–∫–æ–π = 1 –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º = 99 
–ø–æ—Ç–æ–∫ 3 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 3 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 3 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 2 —Å –ø–æ–ª–∏—Ç–∏–∫–æ–π = 1 –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º = 50 
–ø–æ—Ç–æ–∫ 2 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 2 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 2 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 1 —Å –ø–æ–ª–∏—Ç–∏–∫–æ–π = 1 –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º = 1 
–ø–æ—Ç–æ–∫ 1 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 1 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 1 —Ä–∞–±–æ—Ç–∞–µ—Ç

3. –ü—É—Å—Ç—å –ø–µ—Ä–≤—ã–π –ø–æ—Ç–æ–∫ –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 99, –≤—Ç–æ—Ä–æ–π –ø–æ—Ç–æ–∫ –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 50, —Ç—Ä–µ—Ç–∏–π –ø–æ—Ç–æ–∫ –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 –∏ –ø—Ä–∏ —ç—Ç–æ–º –ø–æ–ª–∏—Ç–∏–∫–∞ = SCHED_FIFO:
ksenox@pupup:~$ sudo ./threads_priority_policies_5_6
–ø–æ—Ç–æ–∫ 1 —Å –ø–æ–ª–∏—Ç–∏–∫–æ–π = 1 –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º = 99 
–ø–æ—Ç–æ–∫ 1 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 1 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 1 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 2 —Å –ø–æ–ª–∏—Ç–∏–∫–æ–π = 1 –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º = 50 
–ø–æ—Ç–æ–∫ 2 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 2 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 2 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 3 —Å –ø–æ–ª–∏—Ç–∏–∫–æ–π = 1 –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º = 1 
–ø–æ—Ç–æ–∫ 3 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 3 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 3 —Ä–∞–±–æ—Ç–∞–µ—Ç

4. –ü—É—Å—Ç—å –ø–µ—Ä–≤—ã–π –ø–æ—Ç–æ–∫ –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1, –≤—Ç–æ—Ä–æ–π –ø–æ—Ç–æ–∫ –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 50, —Ç—Ä–µ—Ç–∏–π –ø–æ—Ç–æ–∫ –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 99 –∏ –ø—Ä–∏ —ç—Ç–æ–º –ø–æ–ª–∏—Ç–∏–∫–∞ = SCHED_RR:
ksenox@pupup:~$ sudo ./threads_priority_policies_5_6
–ø–æ—Ç–æ–∫ 3 —Å –ø–æ–ª–∏—Ç–∏–∫–æ–π = 2 –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º = 99 
–ø–æ—Ç–æ–∫ 3 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 3 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 3 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 2 —Å –ø–æ–ª–∏—Ç–∏–∫–æ–π = 2 –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º = 50 
–ø–æ—Ç–æ–∫ 2 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 2 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 2 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 1 —Å –ø–æ–ª–∏—Ç–∏–∫–æ–π = 2 –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º = 1 
–ø–æ—Ç–æ–∫ 1 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 1 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 1 —Ä–∞–±–æ—Ç–∞–µ—Ç

5. –ü—É—Å—Ç—å –ø–µ—Ä–≤—ã–π –ø–æ—Ç–æ–∫ –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 99, –≤—Ç–æ—Ä–æ–π –ø–æ—Ç–æ–∫ –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 50, —Ç—Ä–µ—Ç–∏–π –ø–æ—Ç–æ–∫ –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 –∏ –ø—Ä–∏ —ç—Ç–æ–º –ø–æ–ª–∏—Ç–∏–∫–∞ = SCHED_RR:
ksenox@pupup:~$ sudo ./threads_priority_policies_5_6
–ø–æ—Ç–æ–∫ 1 —Å –ø–æ–ª–∏—Ç–∏–∫–æ–π = 2 –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º = 99 
–ø–æ—Ç–æ–∫ 1 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 1 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 1 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 2 —Å –ø–æ–ª–∏—Ç–∏–∫–æ–π = 2 –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º = 50 
–ø–æ—Ç–æ–∫ 2 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 2 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 2 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 3 —Å –ø–æ–ª–∏—Ç–∏–∫–æ–π = 2 –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º = 1 
–ø–æ—Ç–æ–∫ 3 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 3 —Ä–∞–±–æ—Ç–∞–µ—Ç
–ø–æ—Ç–æ–∫ 3 —Ä–∞–±–æ—Ç–∞–µ—Ç

–ü–æ–ª—É—á–∏–º —Å–ª–µ–¥—É—é—â–µ–µ:
1) –¥–ª—è SCHED_FIFO: –ø–µ—Ä–≤—ã–º –≤—Å–µ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –ø–æ—Ç–æ–∫ —Å –≤—ã—Å—à–∏–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º –∏ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤—Ç–æ—Ä–æ–π –ø–æ—Ç–æ–∫ —Å –±–æ–ª–µ–µ –Ω–∏–∑–∫–∏–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º.
2) –¥–ª—è SCHED_RR: –ø–æ—Ç–æ–∫ —Å –≤—ã—Å—à–∏–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º –ø–æ–ª—É—á–∞–µ—Ç –±–æ–ª—å—à–µ –∫–≤–∞–Ω—Ç–æ–≤ –≤—Ä–µ–º–µ–Ω–∏ –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å–Ω–∞—á–∞–ª–∞ –æ–Ω, –∞ –ø–æ—Ç–æ–º –ø–æ—Ç–æ–∫ —Å –±–æ–ª–µ–µ –Ω–∏–∑–∫–∏–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º.

6.
6.1. 
ksenox@pupup:~$ date
Sat Mar 29 10:42:36 PM UTC 2025
–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –Ω–∞ —ç—Ç–∞–ø–∞—Ö fork() –∏ exect() –∏ –ø—Ä–æ–≤–µ–¥–µ–º —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç –ø–æ –¥–æ—Å—Ç—É–ø—É –∫ –æ–¥–Ω–∏–º –∏ —Ç–µ–º –∂–µ —Ñ–∞–π–ª–∞–º, –æ—Ç–∫—Ä—ã—Ç—ã–º —Ä–æ–¥–∏—Ç–µ–ª–µ–º:

1. –ü—Ä–æ–≤–µ—Ä–∏–º –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –ø–æ—Å–ª–µ fork():
ksenox@pupup:~$ nano fork_6_1.c 
ksenox@pupup:~$ cat fork_6_1.c
#include <unistd.h>
#include <fcntl.h>
#include <stdio.h>

int main(){
  int fd = open("lb2_6_1.txt", O_RDWR | O_CREAT, 0644);
  write(fd, "parent\n", 7);
  pid_t pid = fork();
  if (pid == 0){
    write(fd, "child", 6);
    close(fd);
    return 0;
  }
  
  sleep(1);
  lseek(fd, 0, SEEK_SET);
  char buf[20];
  read(fd, buf, 20);
  printf("—Ä–æ–¥–∏—Ç–µ–ª—å –ø—Ä–æ—á–∏—Ç–∞–ª: %s\n", buf);
  close(fd);
  return 0;
}
ksenox@pupup:~$ gcc -o fork_6_1 fork_6_1.c 
ksenox@pupup:~$ ./fork_6_1 
—Ä–æ–¥–∏—Ç–µ–ª—å –ø—Ä–æ—á–∏—Ç–∞–ª: parent
child

–ü–æ–ª—É—á–∞–µ—Ç—Å—è, —á—Ç–æ –¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å —É–Ω–∞—Å–ª–µ–¥—É–µ—Ç –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä fd (–ø–æ—Å–∫–æ–ª—å–∫—É –±—ã–ª–∞ –¥–æ–ø–∏—Å–∞–Ω–∞ —Å—Ç—Ä–æ–∫–∞ child).

2. –ü—Ä–æ–≤–µ—Ä–∏–º –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –ø–æ—Å–ª–µ exec():
ksenox@pupup:~$ nano exec_6_1.c 
ksenox@pupup:~$ nano exec_6_1_child_program.—Å 
ksenox@pupup:~$ cat exec_6_1.c 
#include <unistd.h>
#include <fcntl.h>
#include <stdio.h>
#include <sys/wait.h>

int main(){
  int fd = open("lb2_6_1.txt", O_RDWR | O_CREAT, 0644);
  write(fd, "before exec\n", 12);
  
  pid_t pid = fork();
  if (pid == 0){
    char fd_str[20];
    sprintf(fd_str, "%d", fd);
    execl("./exec_6_1_child_program", "./exec_6_1_child_program", fd_str, NULL);
    perror("–æ—à–∏–±–∫–∞ exec");
    return 1;
  }
  
  wait(NULL);
  lseek(fd, 0, SEEK_SET);
  char buf[30];
  read(fd, buf, 30);
  printf("—Ä–æ–¥–∏—Ç–µ–ª—å –ø—Ä–æ—á–∏—Ç–∞–ª: %s\n", buf);
  close(fd);
  return 0;
}
ksenox@pupup:~$ cat exec_6_1_child_program.c 
#include <unistd.h>
#include <fcntl.h>
#include <stdio.h>
#include <stdlib.h>

int main(int argc, char *argv[]){
  int fd = atoi(argv[1]);
  write(fd, "after exec", 11);
  fsync(fd);
  close(fd);
  return 0;
}
ksenox@pupup:~$ gcc -o exec_6_1 exec_6_1.c 
ksenox@pupup:~$ gcc -o exec_6_1_child_program exec_6_1_child_program.c
ksenox@pupup:~$ ./exec_6_1
—Ä–æ–¥–∏—Ç–µ–ª—å –ø—Ä–æ—á–∏—Ç–∞–ª: before exec
after exec

–ü–æ—Å–ª–µ exec() –¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å —Ç–∞–∫–∂–µ —Å–æ—Ö—Ä–∞–Ω–∏–ª –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä fd.

6.2. 
ksenox@pupup:~$ date
Sat Mar 29 11:05:24 PM UTC 2025

–ò—Å—Å–ª–µ–¥—É–µ–º –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤ –∏ –ø–æ–ª–∏—Ç–∏–∫—É –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:
ksenox@pupup:~$ nano task_6_2_lb2.c 
ksenox@pupup:~$ cat task_6_2_lb2.c
#include <sched.h>
#include <unistd.h>
#include <stdio.h>
#include <sys/wait.h>

int main(){
  struct sched_param param = { .sched_priority = 15};
  sched_setscheduler(0, SCHED_FIFO, &param);
  
  pid_t pid = fork();
  if (pid == 0){
    printf("–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å, –ø–æ–ª–∏—Ç–∏–∫–∞ = %d, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = %d\n", sched_getscheduler(0), param.sched_priority);
    execl("./task_6_2_lb2_child", "./task_6_2_lb2_child", NULL);
  }
  wait(NULL);
  return 0;
}
ksenox@pupup:~$ cat task_6_2_lb2_child.c
#include <sched.h>
#include <stdio.h>

int main(){
  struct sched_param param;
  sched_getparam(0, &param);
  printf("–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å, –ø–æ–ª–∏—Ç–∏–∫–∞ = %d, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = %d\n", sched_getscheduler(0), param.sched_priority);
  return 0;
}
ksenox@pupup:~$ gcc -o task_6_2_lb2 task_6_2_lb2.c 
ksenox@pupup:~$ gcc -o task_6_2_lb2_child task_6_2_lb2_child.c 
ksenox@pupup:~$ sudo ./task_6_2_lb2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å, –ø–æ–ª–∏—Ç–∏–∫–∞ = 1, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 15

–í–∏–¥–∏–º, —á—Ç–æ –¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å (–∫–∞–∫ –∏ –ø–æ—Ç–æ–∫) –Ω–∞—Å–ª–µ–¥—É–µ—Ç –ø–æ–ª–∏—Ç–∏–∫—É –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ—Ç —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞, –ø—Ä–∏—á–µ–º –∫–∞–∫ –∏ —Å fork(), —Ç–∞–∫ –∏ —Å exec().

6.3. 
ksenox@pupup:~$ date
Sat Mar 29 11:53:21 PM UTC 2025

–ü—Ä–æ–≤–µ—Ä–∏–º –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –¥–∏—Å–ø–æ–∑–∏—Ü–∏–∏ –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–∏–≥–Ω–∞–ª–æ–≤:
ksenox@pupup:~$ nano task_6_3_lb2.c 
ksenox@pupup:~$ nano task_6_3_lb2_child.c 
ksenox@pupup:~$ cat task_6_3_lb2.c 
#include <signal.h>
#include <unistd.h>
#include <stdio.h>
#include <stdlib.h>
#include <sys/wait.h>

void handler(int sig){
  printf("—Ä–æ–¥–∏—Ç–µ–ª—å: —Å–∏–≥–Ω–∞–ª –ø–æ–ª—É—á–µ–Ω\n");
}

int main(){
  signal(SIGUSR1, handler);
  
  sigset_t mask;
  sigemptyset(&mask);
  sigaddset(&mask, SIGUSR2);
  sigprocmask(SIG_BLOCK, &mask, NULL);
  
  pid_t pid = fork();
  if (pid == 0){
    printf("–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Åc fork(): –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ SIGUSR1\n");
    raise(SIGUSR1);
    
    printf("–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å fork(): –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ SIGUSR2\n");
    sigprocmask(SIG_SETMASK, NULL, &mask);
    if (sigismember(&mask, SIGUSR2)){
      printf("SIGUSR2 –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω\n");
    }
    
    execl("./task_6_3_lb2_child", "./task_6_3_lb2_child", NULL);
    perror("exec");
    exit(1);
  }
  
  wait(NULL);
  return 0;
}
ksenox@pupup:~$ cat task_6_3_lb2_child.c 
#include <signal.h>
#include <unistd.h>
#include <stdio.h>

int main(){
  printf("–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Åc exec(): –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ SIGUSR1\n");
  if (signal(SIGUSR1, SIG_IGN) == SIG_DFL){
    printf("–æ–±—Ä–∞–±–æ—Ç—á–∏–∫ SIGUSR1 —Å–±—Ä–æ—à–µ–Ω –≤ SIG_DFL\n");
  }
  
  printf("–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å exec(): –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ SIGUSR2\n");
  sigset_t cur_mask;
  sigprocmask(SIG_SETMASK, NULL, &cur_mask);
  if (sigismember(&cur_mask, SIGUSR2)){
    printf("SIGUSR2 –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω\n");
  }
  return 0;
}
ksenox@pupup:~$ gcc -o task_6_3_lb2 task_6_3_lb2.c
ksenox@pupup:~$ gcc -o task_6_3_lb2_child task_6_3_lb2_child.c 
ksenox@pupup:~$ ./task_6_3_lb2
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Åc fork(): –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ SIGUSR1
—Ä–æ–¥–∏—Ç–µ–ª—å: —Å–∏–≥–Ω–∞–ª –ø–æ–ª—É—á–µ–Ω
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å fork(): –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ SIGUSR2
SIGUSR2 –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Åc exec(): –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ SIGUSR1
–æ–±—Ä–∞–±–æ—Ç—á–∏–∫ SIGUSR1 —Å–±—Ä–æ—à–µ–Ω –≤ SIG_DFL
–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å exec(): –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ SIGUSR2
SIGUSR2 –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω

–ü–æ–ª—É—á–∞–µ—Ç—Å—è, —á—Ç–æ –ø–æ—Å–ª–µ fork() –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏ –º–∞—Å–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è (–ø–æ—Ç–æ–º—É —á—Ç–æ –¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å –≤ fork() –ø–æ–ª—É—á–∏—Ç –∫–æ–ø–∏—é –º–∞—Å–∫–∏ —Å–∏–≥–Ω–∞–ª–æ–≤ –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤), –∞ –ø–æ—Å–ª–µ exec() –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è (–≤—Å–µ, –∫—Ä–æ–º–µ SIG_IGN) –∏ –º–∞—Å–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω–æ–π.

6.4.
ksenox@pupup:~$ date
Sun Mar 30 12:37:52 AM UTC 2025

–ü—Ä–æ–≤–µ—Ä–∏–º –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏e –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏ clone():
ksenox@pupup:~$ nano task_6_4_lb2.c 
ksenox@pupup:~$ cat task_6_4_lb2.c 
#define _GNU_SOURCE
#include <stdio.h>
#include <sched.h>
#include <unistd.h>
#include <sys/types.h>
#include <sys/wait.h>
#include <fcntl.h>
#include <string.h>

struct child_args {
  int flags;
  int fd;
};

// –≥–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è
int shared_var = 100;

int child_func(void *arg) {
  struct child_args *args= (struct child_args *)arg;
  
  printf("–¥–æ—á–µ—Ä–Ω–∏–π pid = %d\n", getpid());

  // –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–ª–∞–≥–∞ CLONE_VM(–æ–±—â–∞—è –ø–∞–º—è—Ç—å)
  if (args->flags & CLONE_VM) {
      shared_var = 200;
      printf("–¥–æ—á–µ—Ä–Ω–∏–π –∏–∑–º–µ–Ω–∏–ª shared_var –Ω–∞ %d (—Ñ–ª–∞–≥ CLONE_VM)\n", shared_var);
  } else {
      printf("–¥–æ—á–µ—Ä–Ω–∏–π shared_var = %d (–Ω–µ—Ç —Ñ–ª–∞–≥–∞ CLONE_VM)\n", shared_var);
  }

  // –ø—Ä–æ–≤–µ—Ä–∫–∞ CLONE_FILES(–æ–±—â–∏–µ —Ñ–∞–π–ª–æ–≤—ã–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã)
  if (args->flags & CLONE_FILES) {
      printf("–¥–æ—á–µ—Ä–Ω–∏–π –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –æ–±—â–∏–π —Ñ–∞–π–ª\n");
      if (args->fd != -1) {
          write(args->fd, "–¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–ø–∏—Å–∞–ª –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é\n", 29);
          fsync(args->fd);
      }
  }

  // –ø—Ä–æ–≤–µ—Ä–∫–∞ CLONE_FS(–æ–±—â–∞—è —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞)
  if (args->flags & CLONE_FS) {
      printf("–¥–æ—á–µ—Ä–Ω–∏–π –º–µ–Ω—è–µ—Ç —Ä–∞–±–æ—á—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –Ω–∞ /tmp\n");
      chdir("/tmp");
  }

  return 0;
}

void test_clone_flags(int flags, const char *description) {
  printf("\n—Ç–µ—Å—Ç–∏—Ä—É–µ–º —Ñ–ª–∞–≥–∏: %s\n", description);
  shared_var = 100; // —Å–±—Ä–∞—Å—ã–≤–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é

  int fd = open("lb2_6_4.txt", O_WRONLY | O_CREAT | O_TRUNC, 0644);
  write(fd, "—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–ø–∏—Å–∞–ª –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é\n", 33);
  fsync(fd);
  
  struct child_args args = {
    .flags = flags,
    .fd = fd
  };
  
  char stack[4096]; 
  pid_t pid = clone(child_func, stack + 4096, flags | SIGCHLD, &flags);

  sleep(1);

  printf("—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å:\n");
  printf("—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π shared_var = %d\n", shared_var);

  // –ø—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞
  if (flags & CLONE_FILES) {
      printf("—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π —Ñ–∞–π–ª –ø–æ—Å–ª–µ –¥–æ—á–µ—Ä–Ω–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞:\n");
      lseek(fd, 0, SEEK_SET);
      char buf[1024];
      int bytes = read(fd, buf, sizeof(buf));
      if (bytes > 0){
        write(STDOUT_FILENO, buf, bytes);
      }
  } else {
      printf("—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π —Ñ–∞–π–ª –Ω–µ –±—ã–ª –æ–±—â–∏–º (–Ω–µ—Ç —Ñ–ª–∞–≥–∞ CLONE_FILES)\n");
  }

  // –ø—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–±–æ—á—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
  char cwd[1024];
  getcwd(cwd, sizeof(cwd));
  printf("—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è —Ç–µ–∫—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: %s\n", cwd);

  waitpid(pid, NULL, 0);
  close(fd);
  remove("lb2_6_4.txt"); 
}

int main() {
  // —Ç–æ–ª—å–∫–æ SIGCHLD (–∫–∞–∫ fork())
  test_clone_flags(SIGCHLD, "—Ç–æ–ª—å–∫–æ SIGCHLD (–∞–Ω–∞–ª–æ–≥ fork())");

  // –æ–±—â–∞—è –ø–∞–º—è—Ç—å (CLONE_VM)
  test_clone_flags(CLONE_VM | SIGCHLD, "CLONE_VM (–æ–±—â–∞—è –ø–∞–º—è—Ç—å)");

  // –æ–±—â–∏–µ —Ñ–∞–π–ª–æ–≤—ã–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã (CLONE_FILES)
  test_clone_flags(CLONE_FILES | SIGCHLD, "CLONE_FILES (–æ–±—â–∏–µ —Ñ–∞–π–ª–æ–≤—ã–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã)");

  // –æ–±—â–∞—è —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ (CLONE_FS)
  test_clone_flags(CLONE_FS | SIGCHLD, "CLONE_FS (–æ–±—â–∞—è —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞)");

  // –≤—Å–µ —Ñ–ª–∞–≥–∏ –≤–º–µ—Å—Ç–µ
  test_clone_flags(CLONE_VM | CLONE_FILES | CLONE_FS | SIGCHLD, 
                  "CLONE_VM | CLONE_FILES | CLONE_FS");

  return 0;
}

ksenox@pupup:~$ gcc task_6_4_lb2.c -o task_6_4_lb2
ksenox@pupup:~$ ./task_6_4_lb2 

—Ç–µ—Å—Ç–∏—Ä—É–µ–º —Ñ–ª–∞–≥–∏: —Ç–æ–ª—å–∫–æ SIGCHLD (–∞–Ω–∞–ª–æ–≥ fork())
–¥–æ—á–µ—Ä–Ω–∏–π pid = 3619
–¥–æ—á–µ—Ä–Ω–∏–π shared_var = 100 (–Ω–µ—Ç —Ñ–ª–∞–≥–∞ CLONE_VM)
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å:
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π shared_var = 100
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π —Ñ–∞–π–ª –Ω–µ –±—ã–ª –æ–±—â–∏–º (–Ω–µ—Ç —Ñ–ª–∞–≥–∞ CLONE_FILES)
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è —Ç–µ–∫—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: /home/ksenox

—Ç–µ—Å—Ç–∏—Ä—É–µ–º —Ñ–ª–∞–≥–∏: CLONE_VM (–æ–±—â–∞—è –ø–∞–º—è—Ç—å)
–¥–æ—á–µ—Ä–Ω–∏–π pid = 3621
–¥–æ—á–µ—Ä–Ω–∏–π –∏–∑–º–µ–Ω–∏–ª shared_var –Ω–∞ 200 (—Ñ–ª–∞–≥ CLONE_VM)
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å:
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π shared_var = 200
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π —Ñ–∞–π–ª –Ω–µ –±—ã–ª –æ–±—â–∏–º (–Ω–µ—Ç —Ñ–ª–∞–≥–∞ CLONE_FILES)
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è —Ç–µ–∫—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: /home/ksenox

—Ç–µ—Å—Ç–∏—Ä—É–µ–º —Ñ–ª–∞–≥–∏: CLONE_FILES (–æ–±—â–∏–µ —Ñ–∞–π–ª–æ–≤—ã–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã)
–¥–æ—á–µ—Ä–Ω–∏–π pid = 3624
–¥–æ—á–µ—Ä–Ω–∏–π shared_var = 100 (–Ω–µ—Ç —Ñ–ª–∞–≥–∞ CLONE_VM)
–¥–æ—á–µ—Ä–Ω–∏–π –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –æ–±—â–∏–π —Ñ–∞–π–ª
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å:
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π shared_var = 100
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π —Ñ–∞–π–ª –ø–æ—Å–ª–µ –¥–æ—á–µ—Ä–Ω–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞:
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è —Ç–µ–∫—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: /home/ksenox

—Ç–µ—Å—Ç–∏—Ä—É–µ–º —Ñ–ª–∞–≥–∏: CLONE_FS (–æ–±—â–∞—è —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞)
–¥–æ—á–µ—Ä–Ω–∏–π pid = 3625
–¥–æ—á–µ—Ä–Ω–∏–π shared_var = 100 (–Ω–µ—Ç —Ñ–ª–∞–≥–∞ CLONE_VM)
–¥–æ—á–µ—Ä–Ω–∏–π –º–µ–Ω—è–µ—Ç —Ä–∞–±–æ—á—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –Ω–∞ /tmp
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å:
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π shared_var = 100
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π —Ñ–∞–π–ª –Ω–µ –±—ã–ª –æ–±—â–∏–º (–Ω–µ—Ç —Ñ–ª–∞–≥–∞ CLONE_FILES)
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è —Ç–µ–∫—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: /tmp

—Ç–µ—Å—Ç–∏—Ä—É–µ–º —Ñ–ª–∞–≥–∏: CLONE_VM | CLONE_FILES | CLONE_FS
–¥–æ—á–µ—Ä–Ω–∏–π pid = 3626
–¥–æ—á–µ—Ä–Ω–∏–π –∏–∑–º–µ–Ω–∏–ª shared_var –Ω–∞ 200 (—Ñ–ª–∞–≥ CLONE_VM)
–¥–æ—á–µ—Ä–Ω–∏–π –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –æ–±—â–∏–π —Ñ–∞–π–ª
–¥–æ—á–µ—Ä–Ω–∏–π –º–µ–Ω—è–µ—Ç —Ä–∞–±–æ—á—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –Ω–∞ /tmp
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å:
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π shared_var = 200
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π —Ñ–∞–π–ª –ø–æ—Å–ª–µ –¥–æ—á–µ—Ä–Ω–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞:
—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è —Ç–µ–∫—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: /tmp

–ü–æ—Å–∫–æ–ª—å–∫—É clone() —è–≤–ª—è–µ—Ç—Å—è –±–æ–ª–µ–µ –≥–∏–±–∫–∏–º –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤, —Ç–æ –µ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –º–æ–∂–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Å –ø–æ–º–æ—â—å—é —Ñ–ª–∞–≥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Å–∞–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:
1) –µ—Å–ª–∏ –ø–æ–¥–∞–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ñ–ª–∞–≥ SIGCHLD, —Ç–æ –ø–∞–º—è—Ç—å –Ω–µ —Ä–∞–∑–¥–µ–ª—è–µ—Ç—Å—è (shared_var = 100 –≤ –æ–±–æ–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–∞—Ö), –¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å –Ω–µ –º–æ–∂–µ—Ç –ø–∏—Å–∞—Ç—å –≤ —Ñ–∞–π–ª –∏ —Ä–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è. –ü–æ–ª—É—á–∞–µ–º, —á—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ fork();
2) —Ñ–ª–∞–≥ CLONE_VM –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –æ–±—â—É—é –ø–∞–º—è—Ç—å –º–µ–∂–¥—É –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞–º–∏: –ø–∞–º—è—Ç—å –æ–±—â–∞—è (shared_var = 200 –≤ –æ–±–æ–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–∞—Ö), —Ñ–∞–π–ª—ã –Ω–µ —Ä–∞–∑–¥–µ–ª—è—é—Ç—Å—è –∏ —Ä–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è. –ü—Ä–æ—Ü–µ—Å—Å—ã —Ä–∞–∑–¥–µ–ª—è—é—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –ø–∞–º—è—Ç—å, –Ω–æ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –º–µ–∂–¥—É –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏;
3) —Ñ–ª–∞–≥ CLONE_FILES –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –æ–±—â–∏–µ —Ñ–∞–π–ª–æ–≤—ã–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã: –ø–∞–º—è—Ç—å –Ω–µ —Ä–∞–∑–¥–µ–ª—è–µ—Ç—Å—è (shared_var = 100 –≤ –æ–±–æ–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–∞—Ö), –∏–¥–µ—Ç –∑–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª –∏ —Ä–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è. –ü—Ä–æ—Ü–µ—Å—Å—ã –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –æ–¥–Ω–∏–º–∏ –∏ —Ç–µ–º–∏ –∂–µ —Ñ–¥.
4) —Ñ–ª–∞–≥ CLONE_FS –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –æ–±—â—É—é —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É: –ø–∞–º—è—Ç—å –Ω–µ —Ä–∞–∑–¥–µ–ª—è–µ—Ç—Å—è (shared_var = 100 –≤ –æ–±–æ–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–∞—Ö), —Ñ–∞–π–ª—ã –Ω–µ —Ä–∞–∑–¥–µ–ª—è—é—Ç—Å—è, –Ω–æ —Å–º–µ–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –≤ –¥–æ—á–µ—Ä–Ω–µ–º –ø—Ä–æ—Ü–µ—Å—Å–µ –æ—Ç—Ä–∞–∑–∏–ª–∞—Å—å –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º –ø—Ä–æ—Ü–µ—Å—Å–∞. –ü—Ä–æ—Ü–µ—Å—Å—ã –¥–µ–ª—è—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ (—Ä–∞–±–æ—á—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é).
5) –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å–µ –≤—ã—à–µ–ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã–µ —Ñ–ª–∞–≥–∏, —Ç–æ –ø—Ä–æ—Ü–µ—Å—Å—ã –±—É–¥—É—Ç –≤–µ—Å—Ç–∏ —Å–µ–±—è –∫–∞–∫ –ø–æ—Ç–æ–∫–∏ –≤ –æ–¥–Ω–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ, —Ä–∞–∑–¥–µ–ª—è—è –ø–∞–º—è—Ç—å, —Ñ–∞–π–ª—ã –∏ —Ñ—Å.

